window._pmConstants={MAXIMIZE_IFRAME:"CSPM_maximize_iframe_height",MINIMIZE_IFRAME:"CSPM_minimize_iframe_height",SAY_CLOSE_POPUP:"CSPM_close_popup_please",SAY_OPEN_ROOM:"CSPM_say_open_room",CLOSE_APPLICATION:"CSPM_close_application",TOGGLE_APPLICATION:"CSPM_toggle_application",CLOSE_POPUP_MESSAGE:"CSPM_close_popup_please"};var app={};app.templates={};app.localStore=new localStore();app.postMessage=null;app.eventDispatcher={};_.extend(app.eventDispatcher,Backbone.Events);app.utils||(app.utils={});app.utils={__errorsStack:{__step:1,__min:1,__max:20},getParameterByName:function(c,d,b){b=b||window.location.href;c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+c+"=([^&#]*)").exec(b);return a===null?d:decodeURIComponent(a[1].replace(/\+/g," "))},getFBUserPic:function(a){return"https://graph.facebook.com/"+a+"/picture"},guidGenerator:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(a()+a()+a()+a())},htmlEntities:function(a){if(!a){return""}return $.trim(a.replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"))},firstToUppercase:function(a){if(!a||a.length===0){return false}return a.charAt(0).toUpperCase()+a.substr(1)},base64Support:function(c){if(!c){return undefined}var b=new Image();b.onload=function(){c(true)};b.onerror=function(){c(false)};var a="R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";while(a.length<33000){a="\r\n"+a}b.src="data:image/gif;base64,"+a},isMobile:function(){var b=navigator.userAgent||navigator.vendor||window.opera;return/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))},isIOS:function(){return !!navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/)},isIE:function(a){a=a||"";return navigator.userAgent.toLowerCase().indexOf("msie "+a)>0},is:function(a){return Object.prototype.toString.call(a).slice(8,-1)},deleteFromArray:function(b,c){var a=b.indexOf(c);delete b[a];b.splice(a,1);return b},compareArrays:function(f,e){if(f.length!==e.length){return false}var d=f.sort(),c=e.sort();for(var g=0;e[g];g++){if(d[g]!==c[g]){return false}}return true},replaceAll:function(b,a,c){while(b.indexOf(a)!==-1){b=b.replace(a,c)}return b},setISO8601:function(a,f){var b=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/;if(f.toString().match(new RegExp(b))){var e=f.match(new RegExp(b));var c=0;a.setUTCDate(1);a.setUTCFullYear(parseInt(e[1],10));a.setUTCMonth(parseInt(e[3],10)-1);a.setUTCDate(parseInt(e[5],10));a.setUTCHours(parseInt(e[7],10));a.setUTCMinutes(parseInt(e[9],10));a.setUTCSeconds(parseInt(e[11],10));if(e[12]){a.setUTCMilliseconds(parseFloat(e[12])*1000)}else{a.setUTCMilliseconds(0)}if(e[13]!="Z"){c=(e[15]*60)+parseInt(e[17],10);c*=((e[14]=="-")?-1:1);a.setTime(a.getTime()-c*60*1000)}}else{a.setTime(Date.parse(f))}return a},enablePlaceholder:function(){$("[placeholder]").focus(function(){var a=$(this);if(a.val()===a.attr("placeholder")){a.val("");a.removeClass("placeholder")}}).blur(function(){var a=$(this);if(a.val()===""||a.val()===a.attr("placeholder")){a.addClass("placeholder");a.val(a.attr("placeholder"))}}).blur()},insertParamToUrl:function(g,f,e){var d=this.parseUri(e||document.location.href);var i=d.query===""?"":"?"+d.query;var h=d.path===""?"/":d.path;var b=d.protocol+"://"+d.host+h;var c=g+"="+f;var a=new RegExp("(&|\\?)"+g+"=[^&]*");i=i.replace(a,"$1"+c);if(!i.match(a)){i+=(i.length>0?"&":"?")+c}return b+i},parseUri:function(e){var d={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var a=d.parser[d.strictMode?"strict":"loose"].exec(e);var c={};var b=14;while(b--){c[d.key[b]]=a[b]||""}c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(g,f,h){if(f){c[d.q.name][f]=h}});return c},httpRequest:function(f,h,b,g,a){if(g==="jsonp"){$.getJSON(b,f,h);return false}var c=new XMLHttpRequest();c.open(g,b,true);if(navigator.userAgent.indexOf("Firefox/3.6")===-1&&c.setRequestHeader){try{c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(d){}}c.onreadystatechange=function(){if(c.readyState===4){function e(i,j){try{if(i==="json"){j=JSON.parse(j||"{}")}if(i==="xml"){j=$.parseXML(j||"<error>invalid data</error>")}}catch(k){}return j}if(h){h(e(a,c.responseText),c.status===200)}}};try{c.send(f)}catch(d){}return c},updateOnError:function(b,a){var c=this.__errorsStack;c[a]=c[a]||{current:c.__min,direction:"+"};if(c[a].direction==="+"){c[a].current++}if(c[a].direction==="-"){c[a].current--}if(c[a].current>c.__max){c[a].current--;c[a].direction="-"}if(c[a].current<c.__min){c[a].current++;c[a].direction="+"}setTimeout(b,c[a].current*1000)},makeLinkWithTarget:function(a,c,b){return'<a target="'+b+'" href="'+a+'">'+c+"</a>"},parseLinks:function(e){var a=this;var d=new RegExp("(http://|https://|www\\.)((\\d+\\.\\d+\\.\\d+\\.\\d+)|(\\S+\\.(zw|zm|za|yt|ye|xxx|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|uk|ug|ua|tz|tw|tv|tt|travel|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|tel|td|tc|sz|sy|sv|su|st|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pro|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|org|om|nz|nu|nr|np|no|nl|ni|ng|nf|net|ne|nc|name|na|mz|my|mx|mw|mv|museum|mu|mt|ms|mr|mq|mp|mobi|mo|mn|mm|ml|mk|mil|mh|mg|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jobs|jo|jm|je|it|is|ir|iq|io|int|info|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gov|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eg|ee|edu|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cv|cu|cr|coop|com|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|cat|ca|bz|by|bw|bv|bt|bs|br|bo|bn|bm|bj|biz|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|asia|as|arpa|ar|aq|ao|an|am|al|ai|ag|af|aero|ae|ad|ac)))(\\S*)*","ig");var c=e.match(d);var b=a.htmlEntities(e);if(c&&c.length>0){b="";$.each(c,function(g,j){var f=e.indexOf(j);var k=e.substring(0,f);var i;var h=i=a.htmlEntities(j);if(h.indexOf("www.")===0){h="http://"+i}if(k.length>0){b+=a.htmlEntities(k)}b+=" "+a.makeLinkWithTarget(h,i,"_blank");+" ";e=e.substring(f+j.length,e.length)});b+=a.htmlEntities(e)}return b},parseURL:function(b){var a=this;return b.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+/g,function(c){return a.makeLinkWithTarget(c,c,"_blank")})},parseUsername:function(b){var a=this;return b.replace(/[@]+[A-Za-z0-9-_]+/g,function(c){return a.makeLinkWithTarget("http://twitter.com/"+c.replace("@",""),c,"_blank")})},parseHashtag:function(b){var a=this;return b.replace(/[#]+[A-Za-z0-9-_]+/g,function(c){return a.makeLinkWithTarget("http://search.twitter.com/search?q="+c.replace("#","%23"),c,"_blank")})},parseTweet:function(a){return this.parseHashtag(this.parseUsername(this.parseURL(a)))},isEmptyObject:function(a){return JSON.stringify(a).length===2},dateFormat:function(b,f){var e="";var d={};d=$.extend(d,{shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]});d=$.extend(d,{d:function(){return(b.getDate()<10?"0":"")+b.getDate()},D:function(){return d.shortDays[b.getDay()]},j:function(){return b.getDate()},l:function(){return d.longDays[b.getDay()]},N:function(){return b.getDay()+1},S:function(){return(b.getDate()%10==1&&b.getDate()!=11?"st":(b.getDate()%10==2&&b.getDate()!=12?"nd":(b.getDate()%10==3&&b.getDate()!=13?"rd":"th")))},w:function(){return b.getDay()},z:function(){var g=new Date(b.getFullYear(),0,1);return Math.ceil((b-g)/86400000)},W:function(){var g=new Date(b.getFullYear(),0,1);return Math.ceil((((b-g)/86400000)+g.getDay()+1)/7)},F:function(){return d.longMonths[b.getMonth()]},m:function(){return(b.getMonth()<9?"0":"")+(b.getMonth()+1)},M:function(){return d.shortMonths[b.getMonth()]},n:function(){return b.getMonth()+1},t:function(){var g=new Date();return new Date(g.getFullYear(),g.getMonth(),0).getDate()},L:function(){var g=b.getFullYear();return(g%400==0||(g%100!=0&&g%4==0))},o:function(){var g=new Date(b.valueOf());g.setDate(g.getDate()-((b.getDay()+6)%7)+3);return g.getFullYear()},Y:function(){return b.getFullYear()},y:function(){return(""+b.getFullYear()).substr(2)},a:function(){return b.getHours()<12?"am":"pm"},A:function(){return b.getHours()<12?"AM":"PM"},B:function(){return Math.floor((((b.getUTCHours()+1)%24)+b.getUTCMinutes()/60+b.getUTCSeconds()/3600)*1000/24)},g:function(){return b.getHours()%12||12},G:function(){return b.getHours()},h:function(){return((b.getHours()%12||12)<10?"0":"")+(b.getHours()%12||12)},H:function(){return(b.getHours()<10?"0":"")+b.getHours()},i:function(){return(b.getMinutes()<10?"0":"")+b.getMinutes()},s:function(){return(b.getSeconds()<10?"0":"")+b.getSeconds()},u:function(){var g=b.getMilliseconds();return(g<10?"00":(g<100?"0":""))+g},e:function(){return"Not Yet Supported"},I:function(){return"Not Yet Supported"},O:function(){return(-b.getTimezoneOffset()<0?"-":"+")+(Math.abs(b.getTimezoneOffset()/60)<10?"0":"")+(Math.abs(b.getTimezoneOffset()/60))+"00"},P:function(){return(-b.getTimezoneOffset()<0?"-":"+")+(Math.abs(b.getTimezoneOffset()/60)<10?"0":"")+(Math.abs(b.getTimezoneOffset()/60))+":00"},T:function(){var h=b.getMonth();b.setMonth(0);var g=b.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");b.setMonth(h);return g},Z:function(){return -b.getTimezoneOffset()*60},c:function(){return b.format("Y-m-d\\TH:i:sP")},r:function(){return b.toString()},U:function(){return b.getTime()/1000}});for(var c=0;c<f.length;c++){var a=f.charAt(c);if(c-1>=0&&f.charAt(c-1)=="\\"){e+=a}else{if(d[a]){e+=d[a].call(b)}else{if(a!="\\"){e+=a}}}}return e},correctTime:function(a){return a.toString().length===1?"0"+a:a},isTouchDevice:function(){return !!("ontouchstart" in window)},isFlashSupported:function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){return true}}catch(a){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined){return true}}return false},cloneFunction:function(b,a){var c=function(){};c.prototype=a.prototype;var d=new c();for(var e in b.prototype){d[e]=b.prototype[e]}b.prototype=d;b.prototype.__parent=a.prototype},log:function(){function b(){var j=new Date(),f=[],i=j.getHours(),c=j.getMinutes(),g=j.getSeconds(),e=j.getMilliseconds();f.push(((i%12||12)<10?"0":"")+(i%12||12));f.push((c<10?"0":"")+c);f.push((g<10?"0":"")+g);f.push((e<10?"00":(e<100?"0":""))+e);return f.join(":")}var a=[];$.each(arguments,function(d,c){a.push(c)});console.log(b()+" >> "+a.join(", "))},timeout:function(){return{set:function(a,b){this.clear();this.timeout=setTimeout(a,b||0);this.active=true},isActive:function(){return this.active},clear:function(){clearTimeout(this.timeout);this.active=false}}},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var k,h,f,j,g,e,d;var b=0;c=this._utf8_encode(c);while(b<c.length){k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64}else{if(isNaN(f)){d=64}}a=a+this._keyStr.charAt(j)+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var k,h,f;var j,g,e,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){j=this._keyStr.indexOf(c.charAt(b++));g=this._keyStr.indexOf(c.charAt(b++));e=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));k=(j<<2)|(g>>4);h=((g&15)<<4)|(e>>2);f=((e&3)<<6)|d;a=a+String.fromCharCode(k);if(e!=64){a=a+String.fromCharCode(h)}if(d!=64){a=a+String.fromCharCode(f)}}a=this._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}},__indexOf:(function(){Array.prototype.indexOf=function(b){var a=this.length>>>0,c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}()),__safeConsoleLog:(function(){(function(f){function e(){}for(var h="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),g;!!(g=h.pop());){f[g]=f[g]||e}})(function(){try{console.log();return window.console}catch(b){return(window.console={})}}())}())};app.globals={contentID:undefined,roomID:app.utils.getParameterByName("contentID","")+"_room",referer:parseInt(app.utils.getParameterByName("referer",""),10),uuid:app.utils.getParameterByName("uuid",null),minimized:app.utils.getParameterByName("minimized",null),sinceID:0,allContents:function(){var b=[];_.each(app.constants.CONTENT_IDS,function(a){b.push(a.ID)});return b},blockedIDs:[],followingIDs:{data:[],push:function(c,d){this.data.push({userID:c,status:d})},getStatus:function(c){var d=undefined;$.each(this.data,function(a,b){if(c===b.userID){d=b.status;return false}});return d},update:function(c,d){$.each(this.data,function(a,b){if(c===b.userID){b.status=d;return false}})}}};app.constants={CONTENT_IDS:{LIVE_FEED:{ID:"bb_live_feeds",REFERER:1,ROOM_TITLE:"Big Brother Live Feeds Chat"},LIVE_SHOW:{ID:"bb_live_shows",REFERER:2,ROOM_TITLE:"SuperPass Live Shows Chat"},NAVIGATION_BAR:{ID:"bb_general",REFERER:3,ROOM_TITLE:"General SuperPass Chat"}},DEFAULT_THUMB_URL:"assets/images/defaultAvatar.png",DEFAULT_BAN_MESSAGE:"You have been banned",LAST_SOCIAL_AUTHORIZATION:"lastSocialAuthorization",MESSAGES_HISTORY_COUNT:20,MESSAGES_IN_CHAT:100,MESSAGE_MAX_LENGTH:140,CHAT_PLACEHOLDER:"type your message here...",UPDATE:{TWEET_FEED:30,SESSION_TIME:60,ROOMS_LIST:30,MEMBERSHIP:30,USER_LIST:30,ROOM_INFO:30},NAVIGATION:{CHAT:"chat",TWITTER:"twitter",CHAT_ROOMS:"chat-rooms",CHAT_MESSAGING:"chat-messaging",CHAT_EDIT_ROOM:"chat-edit-room",PRIVATE_CHAT:"chat-private",CHAT_SETTING:"chat-settings",CHAT_USER_LIST:"chat-userlist",CHAT_ONLINE:"chat-online"},TWEET_FEED:399,TWEET_FEED_COUNT:20,TWEETS_IN_CHAT:100,ROOMS_COUNT:{CHAT:60,RECOMMENDED:100},ROOM_ICONS:{LAST_ROOM:1,ACTIVE_ROOM:1,FAVORITE_ROOM:3,MY_ROOM:4},ROOM_NAME_LENGTH:30,ROOM_LAST:"room_last",ROOM_PROTECTED:"room_protected",ROOM_DELETED:"room_deleted",ROOM_USAGE:"room_usage",ROOM_OWNER:"room_owner",ROOM_MEMBER:"room_member",ROOM_FAVORITE:"room_favorite",ROOM_REFERER:"room_referer",LAST_AND_FAVORITE:"room_last_and_favorite",ROOM_PUBLIC_TYPE:1,ROOM_PRIVATE_TYPE:2,ROOM_RECOMMENDED_TYPE:3,ROOM_USER_TO_USER:"UserToUser",ROOM_RECOMMENDED_IF_FULL:"room_recommended_is_full",ROOM_RECOMMENDED_CREATE:"room_recommended_create",REMOVE_ROOM_AFTER:3600*24*2,CREATE_ROOM_ERROR:{EMPTY:"Error: Enter room name",EXISTS:{MESSAGE:"Error: This room name is taken",ERROR_CODE:"Duplicated room name"}},ROOM_IS_FULL_ERROR:"{{room}} is full. Try again later",MESSAGE_TYPES:{SYSTEM:"System",PRIVATE:"Private",COMMENT:"Comment"},SYSTEM_MESSAGES:{PRIVATE_CHAT_INVITATION:"privateChatInvitation",CANCEL_PRIVATE_CHAT_INVITATION:"cancelPrivateChatInvitation",JOIN_ROOM_TEXT:"joinRoomPlease",EXIT_OPEN_ROOMS:"exitOpenRooms:"},SETTINGS_PROPERTY_NAME:"settings",USER_LIST:{IN_THE_ROOM:"users_in_the_room",ONLINE:"list_of_followers_online",EDIT_ROOM:"all_user_followers"},SOCIAL_ACTIVITIES:{INVITE_TO_ROOM:1,REMOVE_INVITE_TO_ROOM:2,JOINED_CHAT_ROOM:"joined {{ROOM#~name:~id}}",NEW_FOLLOWER:"is now following you",NEW_FOLLOWER_OF_FOLLOWING:"is now following {{USER#~name:~id}}"},FOLLOW_REQUEST_AUTOMATICALLY_ACCEPTED:"Followed",USERNAME_MAXLENGTH:30,CLOSE_CHAT_INFO:"User have close the chat",MAX_PRIVATE_CHATS:3,NOTIFICATIONS:{CHAT_ROOMS_LIMIT:"We're sorry. You cannot chat on more than 1 chat room at a time."},STYLE_SEPARATOR:"###",FAQ_LINK:"http://landing.real.com/superpass/reality-tv"};app.events={API_CALL:"api_call",API_CALL_QUEUE:"api_call_queue",ABORT_API_CONNECTION:"abort_api_connection",USER_BANNED:"user_banned",USER_CHANGED:"user_changed",USER_AUTHORIZED:"user_authorized",GET_USER_INFO:"get_user_info",CREATE_NEW_MESSAGE:"create_new_message",DELETE_MESSAGE:"delete_message",BLOCK_USER:"block_user",OPEN_LOGIN_BOX:"open_login_box",UNREAD_MESSAGE_RECEIVED:"unread_message_came",ROUTE_CHANGED:"route_changed",GET_USER_IP:"get_user_ip",USER_IP_CAME:"user_ip_came",SHOW_SMILES:"show_smiles",HIDE_SMILES:"hide_smiles",SMILE_SELECTED:"smile_selected",NAVIGATION_CHANGED:"navigation_changed",SHOW_ROOMS_PAGE:"show_rooms_page",JOIN_ROOM:"joinRoom",JOINED_TO_ROOM:"joined_to_room",JOIN_RECOMMENDED_GROUP_WITH_CONTENT:"join_to_recommended_group_with_content",CREATE_ROOM:"create_room",UPDATE_ROOM:"update_room",DELETE_ROOM:"delete_room",ROOM_HAS_BEEN_DELETED:"room_has_been_deleted",ROOM_MEMBER_IS:{NEW:"new_room_member",DELETED:"deleted_room_member"},SHOW_USER_DETAILS:"showUserDetails",HIDE_USER_DETAILS:"hideUserDetails",USER:{FOLLOW:"followUser",UNFOLLOW:"unFollowUser",INVITE_TO_PRIVATE_CHAT:"inviteToPrivateChat",BLOCK:"blockUser",UNBLOCK:"ublock"},ADD_FAVORITE_ROOM:"addFavoriteRoom",REMOVE_FAVORITE_ROOM:"removeFavoriteRoom",PROPERTIES_CAME:"properties_came",CHANGE_SETTINGS:"change_settings",SHOW_PRIVATE_CHATS_LIST:"showPrivateChatsList",CREATE_PRIVATE_CHAT:"acceptPrivateChat",REMOVE_PRIVATE_CHAT:"removePrivateChat",CANCEL_PRIVATE_CHAT:"cancelPrivateChat",SETTINGS_CHANGED:"settings_has_been_changed",RECEIVE_POST_MESSAGE:"post_message_has_been_received",CREATE_NOTIFICATION:"create_notification",CHECK_USERNAME:"check_username",LETS_START:"lets_start_the_app",SHOW_NOTIFICATION:"showNotification",TOGGLE_APPLICATION:"toggle_application",TOGGLE_PRELOADER:"toggle_preloader"};app.smiles=[{id:"angelSmile",name:"Angel",code:"0:-)",width:16,image:"data:image/gif;base64,R0lGODlhEAASAPcAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAZgAAmQAAzAAA/wAzAAAzMwAzZgAzmQAzzAAz/wBmAABmMwBmZgBmmQBmzABm/wCZAACZMwCZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zP///yH5BAEAABAALAAAAAAQABIAAAjXAP/968fvXjNmCJtNY9avn8CBCB9K/MfsnsN+zB4ua6awokB80i5G9Hfv3z1///whdCgwlD9+zOrJRMjMX7GHofD528lzJz+ZfQQG9QmDX78UBH+G+mfHJD9p/IpKg4GNXzR7y0LltGePH79aRl8RtPeuXqg+95jBu7qsrb2r8OBl3frOa0+C7+CZvYNP0zuoXgHzI0Zsrr1+y951XWyPGFez/0JN47eMGWFixYrJrBf0Xx97957ag4eVH9esDz9Le2v1bT3UErXWs1fvp9mlE1v2OXt2YkAAOw=="},{id:"angrySmile",name:"Angry Face",code:"X-(",width:16,image:"data:image/gif;base64,R0lGODlhEAASAPcAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAZgAAmQAAzAAA/wAzAAAzMwAzZgAzmQAzzAAz/wBmAABmMwBmZgBmmQBmzABm/wCZAACZMwCZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zP///yH5BAEAABAALAAAAAAQABIAAAi4AP8JHEiwoMF1xtYBM8bJoMB18fDliwgR2LGCxv5FixeRY7xoxjI+/IcPX7SS+UxyXHfx3zp88Yqp05ZS26+Q8RrGIwlPo7po0YpF+7dyIVGRKOIZQyHwVzyE8VKqOyaKIdVjxjwazaoO4bquCbPiTCkR3798Z0nCjLcQJj5nKfNRI9ssnrqMxtziO2YRGD55+FgKNFY3IrN4h1euayjwWDx5HdeuU4iR02SlCBk6/NcXa8vNoAUGBAA7"},{id:"applauseSmile",name:"Applause",code:"=D>",width:18,image:"data:image/gif;base64,R0lGODlhEgASANU/AGZmZv///4tjMpKSkvru19m3UPj5c/K8MvblXfXZUPj2cbKysvbiWerFTPTMQf7865ZIA/jzbfv7+5lmM/758ffrZOq3NPjxa/vxvfjvaCNHadqTKz5njvj4cvjwafXIPPjpe/jya/jkk/nlOvC2Lv755vXYZPXdXfj1b/LPMf+9APPHO/v0TPrtofblZfjVevfoafzwy/nlnPPDU/jnhvv6UXh2Z+6/TvrsQmtmX8zMmdC2THl5eYZdMuzZbP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgA/ACwAAAAAEgASAEAGx8CfcCgoGodIAYAQADQSUGhD1RgIhICAFoAELJlcYslViGgkCtS5MLr+ls1mxXNJZBCAQZYQ/gkoGCcMCAgMCQ4kbkICASAAGx0SDwYGWhkMH25LAxURChsQoRN7AwF6TE0CBx8WFlkDAwtNSH4CJSImDisHRbR+gAwFwhcZwgUpin8tnQocAQYdzhUJvItNfJTZBgoXCA6aTAMNoBPlEBtepj88YA0NnuQRGXsLp00LAAmD3nlbpllaUhmBE0BWHy99hiDsEwQAIfkECQEAPwAsAAAAABIAEgBABsDAn3AoKBqHSEEAFlIACAFAItFQDRoCpBAQ6AKeUIBWUHIVIhqJApUujLLE2TMaRQAGXIKYSMGcGAgIDAkOJHBCSiAeCh0SABsGXRkMH3ACLzQVTwMQnXkDAQNac1GgAwMLUVo/RSUiJg4rB0WrAn0MBbkXGbkFKYe2LRURChwBBh3GFQmziAEITQZPAAYGChcIDpYxinMDExMQX6ELRDI2YQ0NExF5C6JEcwALX6B0e0NcXVFQAan4o778+CJwSBAAIfkECRYAPwAsAAAAABIAEgBABrPAn3AoKBqHSEEAFlI0EoDAYgBQNRoCJDIqBQC0QkHJVYhoJArUuTDKEmciVhRADQQAOzeRgjkxEAgMCQ4kej9KIB4KHRIPBgA6ARkMH24CLzQVNQMLXAMBAzgWhocCUVQLd6REYiImDisHRWACfAwFuBcZuAUperUtFREKHAEGHcUVCbJhAQhNBtFzNRcIDpYxiQ0bc6cLlL8yMHJ2XFNtWgI3Pqfldz1gQ1ygd/FgXl5gQQAh+QQJAQA/ACwAAAAAEgASAEAGwMCfcCgoGodIQQAWUgAIAUAi0VANGgKkEBDoAp5QgFZQchUiGokClS6MssTZMxpFAAZcgphIwZwYCAgMCQ4kcEJKIB4KHRIAGwZdGQwfcAIvNBVPAxCdeQMBA1pzUaADAwtRWj9FJSImDisHRasCfQwFuRcZuQUph7YtFREKHAEGHcYVCbOIAQhNBk8ABgYKFwgOljGKcwMTExBfoQtEMjZhDQ0TEXkLokRzAAtfoHR7Q1xdUVABqfijvvz4InBIEAAh+QQFAQA/ACwAAAAAEgASAEAGw8CfcCgoGodIQQAGIAQAiWiioRo0BEhAYAv4AZrObrLkKkQ0EgUKXRhhh83n85JAAAZaglgooGBODAgIDAkOJG98ASAeCgASDwYGWxkMH28CL00DChsQnnkDAQNwTk8fFloDAwtPSHwCJSImDisHRa4/fRgMBb0XGb0FKYh9LRURChwBBh3KFQm2iQghTQCRkQoXCA6XMXEDEBPiEF+iC0M5YQ0NnRMReQujQnEACwCCd1yt81tcAnEBWO2B84VgwSFBAAA7"},{id:"atWitsEndSmile",name:"At Wits End",code:"~x(",width:36,image:"data:image/gif;base64,R0lGODlhJAASAPcAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAZgAAmQAAzAAA/wAzAAAzMwAzZgAzmQAzzAAz/wBmAABmMwBmZgBmmQBmzABm/wCZAACZMwCZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zP///yH5BAEAABAALAAAAAAkABIAAAj/AP8JHEiwoMGDCBMaPBVqWSiGCiMSvIdqWkN//ezZq1evITNUzCQqDPXvnr1o/FBGq7fslMh/fvxQI1iRpDSH9/jxY9Zw2rJlHwmmijlwKEw/AlEJPOUv1MyGoEj+C9UxqUCiRGH+S3V14LJ//aSiYDYNhUCqVbtu1bqVK9uz/5gRI/YO1Fxiyua+a0kQ6VakqbhS82NU4Fed/fglXqxTo8urhakF/jdYoD+/JO3xqydNGufNnjd/helPrVGkg93+W4aRZajXsBtylPqXK1KiM/0ODHWvM22CoW4+Hoj6aN+CofzZC1Wt2tBUzamOJj7zqu63S6P14xlqGjNpr5k5Kyx4/TZl7Ia11+OnWfNsgzIp6455nSBDlvVWtvzdN+vLqcyc4tB0/xVoYEAAOw=="},{id:"battingEyelashesSmile",name:"Batting Eyelashes",code:";;)",width:18,image:"data:image/gif;base64,R0lGODlhEgASANU/APfqZquCNNORMeuud+GpO6g4E/j4cvbjXOEikPTaUu26NfPHPOW3UfjxavrxtPz36vnkl+ZLjPjZfdagM7JMJO3Tyv////TMQo5YUNmmQtqrn8VpGO3TWcPJv/XaZeTFVfjpefTAM+6af/758T5njv/M//KsnPr6lvOOtvTRR+fHv4+lgMJyYPfHqvPDU/zwy/jnhtCHWebDr+fDZPDVr8eAZ86PgPn0h+u/Tdfa7vC2Lu3eZfPDcumuMOSjK////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFZAA/ACwAAAAAEgASAEAGtMCfcEgsEgOWw+10cjAYHA6OEFMEjL+AdovNjjQVi0UjaGQ0FNZ1GIAAGi2CwoBShA6X9THwgHguCyFaRQEjAywdJB0WDwYYiiobawEvIA0GmJkGJSYlC3pZOBIJB6UHCRcToIRbg10BFRpoAqUJBAKrATIaHYsWNQYaOWN6SDM2K4oWNAQYKx0qqkJIb5qaDQk9kxIwAC0IIpkiKCUJVmwuEAdvA+AABynSrAoLF4BWq136QQAh+QQFCgA/ACwDAAMADQALAEAGWMDfyOE5HH7Iiw6JHDCZCB6ykPlkChvBpCCwFh6ARsNA/jUAh8uP82wjfe6Is+04hMU/dKqHDBsAOwY/BmcJChwFiR9kgokFIT8QESBtUkdMJhERPJoeTEEAIfkEBQoAPwAsAwADAA0ACwBABl7AX0WjoQh+SMIR+WsxmagScmZbkToWGgGz6qgmMk0Ha6n9NDmL5gd4upG9N0L01lQs6mOmyEKyOlcWDz8YVyobBzcnJw4MDBw/OAQxCj8NBgZuUlJMLQQKBigKIUxBACH5BAUKAD8ALAMAAwANAAsAQAZYwN/I4TkcfsiLDokcMJkIHrKQ+WQKG8GkILAWHoBGw0D+NQCHy4/zbCN97oiz7TiExT90qocMGwA7Bj8GZwkKHAWJH2SCiQUhPxARIG1SR0wmERE8mh5MQQAh+QQFCgA/ACwDAAMADQALAEAGXsBfRaOhCH5IwhH5azGZqBJyZluROhYaAbPqqCYyTQdrqf00OYvmB3i6kb03QvTWVCzqY6bIQrI6VxYPPxhXKhsHNycnDgwMHD84BDEKPw0GBm5SUkwtBAoGKAohTEEAIfkEBQoAPwAsAAAAAAEAAQBABgPAXxAAIfkEBQoAPwAsAAAAAAEAAQBABgPAXxAAIfkEBQoAPwAsAwADAA0ACwBABljA38jhORx+yIsOiRwwmQgespD5ZAobwaQgsBYegEbDQP41AIfLj/NsI33uiLPtOITFP3SqhwwbADsGPwZnCQocBYkfZIKJBSE/EBEgbVJHTCYRETyaHkxBACH5BAUUAD8ALAMAAwANAAsAQAZewF9Fo6EIfkjCEflrMZmoEnJmW5E6FhoBs+qoJjJNB2up/TQ5i+YHeLqRvTdC9NZULOpjpshCsjpXFg8/GFcqGwc3JycODAwcPzgEMQo/DQYGblJSTC0ECgYoCiFMQQA7"},{id:"hugSmile",name:"Hug",code:">:D<",width:16,image:"data:image/gif;base64,R0lGODlhEAASAPcAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAZgAAmQAAzAAA/wAzAAAzMwAzZgAzmQAzzAAz/wBmAABmMwBmZgBmmQBmzABm/wCZAACZMwCZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zP///yH5BAEAABAALAAAAAAQABIAAAiyAP8JHEiwoMFloU6FQmhQ4EJ//ezZq1dvYcFQ/6YR2xht2UZlpwZi9JeunsSI/Oqle7dM4DJ8/KLxk8avJk2TGJf582evZr+a/H6mrIiRJk2bM/M1y9eR2b+a+ILFC8ovXrx8EkMVhbqsHj95XXtGO6VTaFB45ZgJzRpK4kygR2PaWxYyVMSfeGv2rNfy37JlKGn2lDaRoct6/bzuTWl4oMJ60SDzVdjwH9lQzMhW3kwwIAA7"},{id:"blushingSmile",name:"Blushing",code:":[",width:18,image:"data:image/gif;base64,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"},{id:"brokenHeartSmile",name:"Broken Heart",code:"=((",width:18,image:"data:image/gif;base64,R0lGODlhEgASAOZ/AMwzBtaYNuK/R7lbHvjxa/jzbeKvP/j3cd2cW/j2cffrZAAAADMAmf758e3Vz/blXfjwafj2cMwQEOrLUusAANR/G/j4cvXZUOKuPvfqY/jpevC6M/blZe7NTuq+TPfoafnlnOrHTvfrZfjnhvjkk+W6S/TQRvS+Meu9avPDU+6/Tv766fjya/zwy9yZWfXYZPPMQfrtofjpe/bhWPK2KOS4Rfvxvu/BPPjVeuW8T+qyL/755v/68fPHO9aYNeDm7ffdf+q3NOvCRfbkYMMPD/XbUv9JAPXIPP8UAOvf37lAQPj1cOK2QcYnAPbhWtaCMNWLO/jxav8GAPfrY/jvaP+YALYzEfTMQu26N+/YWuq2OP8BAPXaUf8bAO7MTf9aAPXMQcOIMLEwEfbkXfbhWdWhM/jvabdZFJljKOq1NNSgM/TMQeW/SMZmAOG+Ta0nD/+HALY3FMx0B/9iAMw1EO7iY6MfDKZ6Mfj5c5YgBKuCNP/MzP+Zmf////8AAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFZAB/ACwAAAAAEgASAEAH2oB/goOEhYN6fR01B3iNeHmQdWyQeYZ6l5iGgnoNNgEOBQQEBQ4BJjp6hHogHggFEQd5cnBfXX63EpWbejskLzA9J5eFejwxCgM/DI0MfQMZFxupf3otGhARFo15e3t8c7e3unoqQEUYlxgCVhQUSkmamJma1A05AQMPDwMBJTTTh1ZwCNBnQYIEC/oEmHEDICIZE3y4MEDRwBMoE4QcmYboAwtG2/p4O5OHjx8iefTgGCEiBIIKFUryqWJESrhKelKgGKIAgqg8AJBswaVrl4CjR4PogUSvaaFAACH5BAUUAH8ALAgABwAKAAYAQAcngH95g25Mg3l/f3t/fImOiYuMjX9+gn17fGd5fH5EiI58Uo+Sk4+BACH5BAUUAH8ALAcABwAIAAgAQAclgH95f4SFeXx8hYR5e4SNf36CTYqCfY+Ge4h/RotthF+UYWKKgQAh+QQFFAB/ACwIAAcABwAHAEAHGIB/gn99gnuDiIJ8fX6DfImDhY2HiI+JgQAh+QQFFAB/ACwNAAgAAgAEAEAHCIB/fH2Cf4SBACH5BAUUAH8ALAkACgAEAAQAQAcNgHyCfoN9g35NAH59gQAh+QQFFAB/ACwGAAcABgAIAEAHKIB/eX+EfXl7fH9VgnuEfH2CfH5ISHl9jY+HiVV+eYlwfoR/aG9xfYEAIfkECTIAfwAsCQAHAAkABwBABx+Af4ITgoWCRlOGhgR+hgB/ToqGUX+NhkZUinxfCJKBACH5BAkUAH8ALAAAAAASABIAQAdlgH+Cg4SFhoN4eYp5fVFsi4eGipGUlYJ7f3x+fkJ9m355lqKjkXt8NH1Umpuhkk18SFeefhKtpLe4twa7T1ATQkd6lH2ZqAR5mkS2hnxVflOzoJJ8mX5O0bWRYW9ifRQUSkm5g4EAIfkECRQAfwAsAAAAABIAEgBAB9yAf4KDhIWDen0dNQd4jY4JUV5YeoZ/enpodnaIFBRKSYcNNgEOBQQEBQ4BJjqUhyAeCHl7e3x8fghCfX68eYd6OyQvMD0nl4V6PDEKAz8MjQx9AxkXG656LRoQEXl9tHx9S1R5t0S+lipA5LZ+XFe7vBLnv5fHlZYNOQEDDw8DASVouDq0gkOAPgsSJFjQJ8CMGwMRyZjgw4WBiwaeQJkg5Mi1Ph9YMMpDstsBAllKWsIxQkSIWd/6ZJlyq5elFCiGzLJ1y4kWeH7mXRKQpwkfJEEQxZt3TxBJQoEAACH5BAkUAH8ALAAAAAASABIAQAffgH+Cg4SFg3p9HTUHeI2OCVFeWHqGeW18fH56lH1+nhJ5f3oNNgEOBQQEBQ4BJjqUhyAeeX17e3x9BQhCeZlEoYKbOyQvMD0nm4V6PDEKAz8MjQx9AxkXG7B6LRoQERaOeBZLVGRHsMEqebeYflxXZZ2ewIeb9YaHDTkBAw8PAwElaJwLtoJDgD4LEiRY0CfAjBvnEMmY4MOFgYsGnkCZIMRcsD4fWDACh+cAgTFgsuEYISJEnpe0EGSZ4gVmsBQo1NnCpcCJlkzyDqnDlCnIpnh+5g3K04QOEkHxQP0JBAAh+QQJFAB/ACwAAAAAEgASAEAH4oB/goOEhYN6fR01B3iNjglRXlh6hnl7l3x9lH98fp55f3oNNgEOBQQEBQ4BJjqbgnogHggFEQcHSwUIQmuvh3o7JC8wPSd6vqE8MQoDPwyNDH0DGRcbm3otGhARFo54FktUZEe+eipAeel5fVxXZXfqhsfzyISiOQEDDw8DASU0yPSs4BCgz4IECRb0CTDjxitEMib4cGGgooEnUCYIIQerzwcWjLzhOUBgDJhrOEaICIGggssKCLJMuZDmYQoUQxRAQGVGgRMtaurpWYepT5BjeToRATXIEp+nRgb18eQnTyAAIfkECRQAfwAsAAAAABIAEgBAB96Af4KDhIWDen0dNQd4jY4JUV5YeoZ/eZd5fZR/DZiCeg02AQ4FBAQFDgEmOpufIB4IBREHB0sFCEJrrYd6OyQvMD0nert/ejwxCgM/DI0MfQMZFxubei0aEBEWjngWS1RkR7t6KkBFGMQYXFdlxYTE8O6HDTkBAw8PAwElNMV6KxwC9FmQIMGCPgFm3GiFSMYEHy4MSDTwBMoEIeI+9fnAghE3PAcIjAFTDccIESEQVFhZAUGWKRfSMEyBYogCCKbMKHCiRY07YgKCBg1CrJKgTHv28OkzKI8fP0TyBAIAIfkEBWQAfwAsAAAAABIAEgBAB82Af4KDhIWDen0dNQd4jY4JUV5YeoZ/epeYlZYNNgEOBQQEBQ4BJjqUhyAeCAURBwdLBQhCa6iElzskLzA9J5eFejwxCgM/DI0MfQMZFxuoei0aEBEWjngWS1RkR7aWKkBFGJcYXFdl3cCYv5p6DTkBAw8PAwElNOh6KxwBfQsJCQv6BJhxwxYiGRN8uDDA0MATKBOEcBOE6AMLRtbwHCAwBswzHCNEhEBQoWQFBFmmXEhjMAWKIQoghDKjwIkWNegs6RHAk2eQdZqCEgoEADs="},{id:"callMeSmile",name:"Call Me",code:":-c",width:28,image:"data:image/gif;base64,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"},{id:"clownSmile",name:"Clown",code:":o)",width:28,image:"data:image/gif;base64,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"},{id:"confusedSmile",name:"Confused",code:":-/",width:20,image:"data:image/gif;base64,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"},{id:"coolSmile",name:"Cool",code:"B-)",width:18,image:"data:image/gif;base64,R0lGODlhEgASANU/AKuCNOSvOwAAZvLalffrZPnkl+y4NPbhWfTKPvjZfTc3N/TMQsxmC5KSkv///8yZM/XaUVxcXPblXvj2cfLyzPj5c/jxau6+TzNmmaCuzPjzbeTHjvvxveOiO/755tWhM/TRR/758fTHPNqTK/XdVOOqePjvaPjtZvXYZPS+MfblZeqyL/C2Lujhi/j1b/jnhvXdXfjperOZmffmavPDU/z136WlpfntocPDw3Jyqvfdn/ruxdG6j+jq7fvxrf///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFlgA/ACwAAAAAEgASAEAGq8CfcEgsEgEORaTRiAgwy6YiADD+ANis9RriHAiWsIlwAK2qQ0BhxrgMJhOX5nRYoI8ATwG1EKWwRQIjAQiFhocBIwJCAC0xAQ8PARUVkJIHIndXFwkQBxISBxALH5pFWVpbAF0wn6EQCCymAQEqJhoucHJ0tDJCAsDBAgoKwsGMFAHEChi0GMu0aAAJLyTWlJTWBBAGdwA0BQMMHeRjZaVGWCkiC33dplvxQQAh+QQFBQA/ACwFAAsABgADAEAGC0DGb0j8CY2OpDIIACH5BAUyAD8ALAUACwAIAAIAQAYLwB9jSIw8fkjkMQgAIfkEBQEAPwAsAwAIAAYABwBABh7Anw2Hs/1+vs3xONhsBj+ebnlsWJe3krakq+20vyAAIfkEBQEAPwAsAwAGAAsACQBABibAX2BILAIuv6RyGXg8AktlpNGIRJOzx3W7VXi5JIaYEaUVBuJrEAAh+QQFAQA/ACwDAAYACwAJAEAGJsAfYkgs8nS/pHI52GwGS6UNh7NFk77NdbtteLm3krgU1dV24msQACH5BAVkAD8ALAMABgALAAkAQAYmwF9gSCwCLr+kchl4PAJLZaTRiESTs8d1u1V4uSSGmBGlFQbiaxAAIfkEBQEAPwAsBAAGAAwABQBABiJAhHAoLBQGm59yqdwMbgWm0obD2RoD6S+T63a1vXAvVAsCACH5BAUUAD8ALAQABgAMAAUAQAYewIBwSAyMfsgk8hE4iJTISKMRUQSgP4F2i8UovsIgACH5BAUCAD8ALAMABgAGAAkAQAYewB9iOOTpfkjkYLMZJJ8/3wYKbVgzyFtp+9PtdtwgACH5BAUyAD8ALAMABgAGAAkAQAYewF9gOARcfkhk4PEIJJ+/2QMKVVgxSBJj+6MVBtwgACH5BAUFAD8ALAQABgAJAAgAQAYfQIRw+Csaj8jkz8RgdDoMjXKanFSulYn0R7AcDqZiEAAh+QQFvAI/ACwFAAYACQAIAEAGG8CfUIgoIobIpJJxGUwmLqV0SiIhq0JGZ4sMAgA7"},{id:"cowboySmile",name:"Cowboy",code:"<):)",width:18,image:"data:image/gif;base64,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"},{id:"cryingSmile",name:"Crying",code:":((",width:22,image:"data:image/gif;base64,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"},{id:"daydreamingSmile",name:"Daydreaming",code:"8->",width:18,image:"data:image/gif;base64,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"},{id:"devilSmile",name:"Devil",code:">:)",width:18,image:"data:image/gif;base64,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"},{id:"dohSmile",name:"Doh",code:"#-o",width:24,image:"data:image/gif;base64,R0lGODlhGAASANU/AItjMvj5c9qTK/jxaurFTPnll/j2cfPIPe66NPfrZPjZff///7Ozs5OTk2ZmZvblXfTNQtWiNJ5jKfbiWfblY/jzbfj4cv766P758fXaUcnJxvj1cObm5vvxvWYzM/jpe/PHPPjuZ//MzKOjo/+9APjvaPzwy/XdXe6/TvjnhvrtoffoaffmavPDU/j1b5R1RPXYZPjtRY9TU/TTSeCdP8zM//Pz805gl35+fvr2XuHXq8S7eHFxYtXAVoJXMv///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFyAA/ACwAAAAAGAASAEAGsMCfcEgsGomAxWdgsARqNRqNUNMdAEckAHGAQA5XbBaJ6ZwmAsEkQxCIswBFKlFpkggRiSRxiLzHPwCCg4BIFxQhBAsLBi45ijN/RUkrTAGXmAYDfZJILQUPCQOjJXychaipghcFMBAgCIKoAGUTCQIEBKUEUp1DtCp0BA03CxaKxbFwCw+WmJeap0cAJktNzxYbJdLTBSwhdQYGGxUhYL5IKAoZEw8PE2B+qUKDhIVBACH5BAUKAD8ALAYAAwAJAA4AQAY3wJ9Q+BgajwaBUvIjSATH42BKIPwe0GF1K7RGr8XrcGPo/mIQayCQkEhKk69RIHmJKvIvCDEMAgAh+QQFMgA/ACwIAAYACAAKAEAGKMCf8CcYDg+/GdLI/EmIz18gYDGIXiKhhEAkRLVRSFNoECI94mHGGAQAIfkEBQoAPwAsCgAMAAUABABABhPAn+glOhx+k0PkUPGQfr/D8xcEACH5BAUKAD8ALAoADAAEAAQAQAYOQNFLlPglDj+Ph4Rk/oIAIfkEBQoAPwAsCQAMAAQABABABg9A0UtU8fQyM8+PFFpmfkEAIfkEBRQAPwAsCgANAAUAAwBABgvAn/B3IA5lh+IvCAAh+QQFBQA/ACwPAAsABQAFAEAGEcDfz0EsOoQ4h+b4WyyOzmUQACH5BAkKAD8ALA8ACgAIAAYAQAYZwN/PQXQIj4uk8ehYNJe/xQ+3lBqfOOYyCAAh+QQJCgA/ACwAAAAAGAASAEAGQMCfcEgsGo9Io2OxaDST0Kh0iowAmg3GwkHten8ObtcKbiy3XUCYif6633D3Ovs+MxpjtXPbnqrZWmJeYWFxRkEAIfkECQoAPwAsAAAAABgAEgBABtnAn3BILBqJgMVnYCAEnhKJQDI5ADQLR9YIACAOEAgI0T1yMZ3T5PGYZB4CwE+rcRQBilSiYrAERC8iFQkHEQAODHZmP12NcotIFxQhBBsGBi4EAjEQADYYCzYNiowLK0xPqQEGA4UADBocpEIALQUPCQMDHjIHvoaQwcJDXRcFMGIPZUIOs8RoE7m6BNRwryMciUgYKnsGAlPUAgQSZM2xpEkPqKnkEtSdGtiyxCZLfaoWGyUHPEmhzgAUYBGCjwEPHkiE8CWnmRkAKBRkWPOAxK9HwxwtgxQEACH5BAX0AT8ALAAAAAAYABIAQAbFwJ9wOGw0HA6icghYfAYGQmAqkQgkkwNgqQQAEAcIBITwcpcATOc0cSwcjUWjmeQCFKlExWAJiF4iFQkHEVtnRABucW8Lb4c/ABcUIQQbBgYuBAIxED6HTStQU6MBBgOEhnYtBQ8JAwMeMgezhY9KcAsMjUi2Ql4XBW6MDLp1dmoTrgMOBHA7Ao7HKnoGAlcEmgQSZWdND6Kj2hLYEKldJk98pBYbJaifBSwhewYeHiQhs+Z2KAoZEw8ekKC175GXgwWXBAEAOw=="},{id:"smilingSmile",name:"Smiling Face",code:":)",width:18,image:"data:image/gif;base64,R0lGODlhEgASAPc/APO2M/TQSPnlmPfZY/XkY/jya/746fj3cfjZfPaVPfa4SfTMQffrZPbhWfinSu7TVufMV/TcW//GxvjEVuy/TffuZ/XZUeSyQPPHPPvxvfblXvWlNd6eMeq2NNWhM/jiZvjQX89vETMzzMzM//758d+lOOqQONqRKOi7RdBjEfi5Yu2oVOjBS//d3ffmavjjhPK9M+V9LffiXwAAAGYzM9eIItSBHu+KO/zYtfPDU+KqOeqyL/j5c6uCNP///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQF7gI/ACwAAAAAEgASAEAI0wB/CBxIsCDBHhISOHjwAIUHDygegFiRYEMPgz96aNyIMSOJDA0YFBhZgUGDADsuDuwhwAWKGCFihoiBosEClQd7GBAwYAEGGBoL6hSggQcPEUaRFpARAIDKHjhSxCBwwKhVAjFSOD1IAYGFBho0NLCwwANOgxs5duzxMQJYsWS3HjRAoAKPf1X/8ahgE2ePFiomuOAxwmjhDxMUyEW4woSLAxkiZ6gaY4VFgT0QvPAQ4oELAp8fhIiYcmUOog1XrIgYIYBZtD1gYFjgs0PQjrgJBgQAIfkEBQoAPwAsBQAFAAcABQBACCMAfxQ48OPAgQI/ePxYmLCACBojRtAQUcEACR8YDfwAwHBhQAAh+QQFMgA/ACwFAAUABwAFAEAIHwB/8Pgn8B+PHwd+KETogscIHg4h8hABkeKPBwsVBgQAIfkEBQoAPwAsBQAFAAcABQBACCMAfxQ48OPAgQI/ePxYmLCACBojRtAQUcEACR8YDfwAwHBhQAA7"}];app.router||(app.router={});app.router.ClipsyncApplication=Backbone.Router.extend({navigationHistory:[],_initialized:false,_wasMinimized:false,routes:(function(){var a={};a[app.constants.NAVIGATION.CHAT]="chat";a[app.constants.NAVIGATION.TWITTER]="twitter";a[app.constants.NAVIGATION.CHAT_ROOMS]="chatRooms";a[app.constants.NAVIGATION.CHAT_MESSAGING+"/:id"]="chatMessaging";a[app.constants.NAVIGATION.CHAT_EDIT_ROOM]="chatCreateRoom";a[app.constants.NAVIGATION.CHAT_EDIT_ROOM+"/:id"]="chatEditRoom";a[app.constants.NAVIGATION.PRIVATE_CHAT+"/:id/:name"]="privateChat";a[app.constants.NAVIGATION.CHAT_SETTING]="chatSettings";a[app.constants.NAVIGATION.CHAT_USER_LIST+"/:id/:name"]="chatUserList";a[app.constants.NAVIGATION.CHAT_ONLINE]="chatOnlineList";a["*actions"]="";return a}()),initialize:function(){_.bindAll(this);this.setContentID();this.initPostMessage();if(app.globals.minimized){this._wasMinimized=true;new app.navigation.NavigationController();app.eventDispatcher.trigger(app.events.TOGGLE_APPLICATION,false);return false}this.initApplication()},initApplication:function(){if(this._initialized){return false}if(this._wasMinimized){app.eventDispatcher.trigger(app.events.TOGGLE_PRELOADER,true)}new app.clipsync.ClipsyncController();this.checkUser();this._initialized=true},run:function(b,a){new app.user.UserController(a);new app.twitter.TwitterController();new app.rooms.RoomsController();new app.chat.ChatController();new app.tools.ToolsController();if(!this._wasMinimized){new app.navigation.NavigationController();app.eventDispatcher.trigger(app.events.TOGGLE_PRELOADER,true)}this.navigate(app.constants.NAVIGATION.CHAT_ROOMS);this.navigationChange(app.constants.NAVIGATION.CHAT_ROOMS,{firstTime:b})},chat:function(){var b=this.navigationHistory[0];var a=this.navigationHistory[1];if(b&&(b.location===app.constants.NAVIGATION.TWITTER)&&a){if(a.params&&a.params.overlay){this.navigateSilently(this.getCorrectLocation())}this.navigateSilently(a)}else{this.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true})}},twitter:function(){this.navigationChange(app.constants.NAVIGATION.TWITTER,{silent:true})},chatRooms:function(){this.navigationChange(app.constants.NAVIGATION.CHAT_ROOMS)},chatMessaging:function(a){this.navigationChange(app.constants.NAVIGATION.CHAT_MESSAGING,{navigationParams:[a],roomID:a})},privateChat:function(b,a){b=decodeURIComponent(b);a=decodeURIComponent(a);this.navigationChange(app.constants.NAVIGATION.PRIVATE_CHAT,{navigationParams:[b,a],userID:b,username:a})},chatCreateRoom:function(){this.navigationChange(app.constants.NAVIGATION.CHAT_EDIT_ROOM,{silent:true,overlay:true})},chatEditRoom:function(a){this.navigationChange(app.constants.NAVIGATION.CHAT_EDIT_ROOM,{navigationParams:[a],roomID:a,silent:true,overlay:true})},chatSettings:function(){this.navigationChange(app.constants.NAVIGATION.CHAT_SETTING,{silent:true,overlay:true})},chatUserList:function(c,a){var b={roomID:c,name:a,navigationParams:[c,a],silent:true,overlay:true};this.navigationChange(app.constants.NAVIGATION.CHAT_USER_LIST,b)},chatOnlineList:function(){this.navigationChange(app.constants.NAVIGATION.CHAT_ONLINE,{silent:true,overlay:true})},checkUser:function(){var a=this;app.localStore.set("userID",app.globals.uuid);app.eventDispatcher.trigger(app.events.API_CALL,"syncUserInfo",null,function(b){if(b.fault){app.eventDispatcher.on(app.events.LETS_START,function(c){a.run(true,c)});app.signup.SignupController()}else{a.run()}})},goSilentlyBack:function(){var a=this.getCorrectLocation();if(_.isEmpty(a)){this.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true})}else{this.navigateSilently(a)}},getCorrectLocation:function(){return _.find(this.navigationHistory,function(a){return(a.location!==app.constants.NAVIGATION.TWITTER)&&!(a.params&&a.params.overlay)})},navigateSilently:function(a){a.params||(a.params={});a.params.silent=true;var b=[a.location].concat(a.params.navigationParams||[]).join("/");this.navigate(b);this.navigationChange(a.location,a.params)},navigationChange:function(a,b){app.eventDispatcher.trigger(app.events.NAVIGATION_CHANGED,a,b);this.navigationHistory.unshift({location:a,params:b})},initPostMessage:function(){app.postMessage=new Porthole.WindowProxy();app.postMessage.addEventListener(function(a){if(a.data){app.eventDispatcher.trigger(app.events.RECEIVE_POST_MESSAGE,a.data)}})},setContentID:function(){$.each(app.constants.CONTENT_IDS,function(a,b){if(b.REFERER===app.globals.referer){app.globals.contentID=b.ID;return false}})}});$(function(){app._router=new app.router.ClipsyncApplication();Backbone.history.start()});app.templates.userListTemplate=_.template('<div class="common-user-list-container">  	<div class="search-wrapper">         <input class="search common-search-users placeholder" value="<%= _.escape(query) %>" placeholder="Search for someone" type="text" /> 	</div>  	<% if ((type === app.constants.USER_LIST.IN_THE_ROOM || type === app.constants.USER_LIST.ONLINE) && roomname) { %> 		<div id="common-users-list-back"> 			<span class="common-users-list-icon-back"></span> 			<%= _.escape(roomname) %> 		</div> 	<% } %>   	<div class="common-users-list-wrapper"> 		<% 			if (type === app.constants.USER_LIST.IN_THE_ROOM) print(\'People in this Chat\'); 			if (type === app.constants.USER_LIST.ONLINE)      print(\'Your Online Connections\'); 		%> 		<div id="common-users-list-container" class="customized-scrollbar-dark <%= type === app.constants.USER_LIST.ONLINE ? \'followers\' : \'\' %> <%= type === app.constants.USER_LIST.ONLINE && roomname ? \'roomname\' : \'\' %> "> 			<div class="customScrollBox"> 				<div class="container"> 	                <div id="userList" class="content"></div> 				</div> 				<div class="dragger_container"> 					<div class="dragger"> 						<div class="scrollThumb"></div> 					</div> 				</div> 			</div> 		</div> 	</div>  </div>');app.templates.chatItemTemplate=_.template('<div class="message <%= ownMessage ? \'ownMessage\' : \'\' %>" data-mid="<%= messageID %>" data-uid="<%= userID %>">     <b class="messageUsername">         <%             if (ownMessage) print(\'Me\');             else print(_.escape(username));         %>:     </b>     <span class="messageText" style="<%= style %>"><%= text %></span> 	<div class="clear"></div> </div>');app.templates.chatTemplate=_.template('<div class="chatContainer">     <div class="chatHeader"> 	    <span class="floatLeft charRoomName"><%= _.escape(decodeURIComponent(name)) %></span> 	    <% if(type !== \'UserToUser\') { %>             <div class="floatRight">                 <div id="userListButton"></div>                 <div id="favoriteRoomButton"></div>             </div>         <% } %>     </div>     <div id="chatMessagesContainer" class="customized-scrollbar-light">         <div class="customScrollBox">             <div class="container">                 <div id="messagesBox" class="content"></div>             </div>             <div class="dragger_container">                 <div class="dragger">                     <div class="scrollThumb"></div>                 </div>             </div>         </div>     </div>     <div id="sendBox">         <div id="inputMessage" class="inputMessage" contenteditable></div>         <div id="smilesButton"></div>         <div class="clear"></div>     </div> </div>');app.templates.privateChatInvitationTemplate=_.template('<div data-include-in="chat" class="notification privateChatInvitationBox">     <%= _.escape(username) %> wants to 1:1 chat with you     <div class="clear"></div>     <div class="acceptButton invitationManageButton">Accept</div>     <div class="cancelButton invitationManageButton">Cancel</div>     <div class="blockButton invitationManageButton">Block</div> </div>');app.templates.privateChatsListTemplate=_.template('<div class="private-chats-list">     <%     if (models.length > 0) {         _.each(models, function (model) {             %>                 <div class="private-chats-list-item" data-id="<%= model.roomID %>">                     <div class="username-label"><%= _.escape(decodeURIComponent(model.name)) %></div>                     <div class="close-button">x</div>                     <div class="clear"></div>                 </div>              <%         });     }     else {         print(\'You have no 1:1 chats yet.\');     }%> </div>');app.templates.settingsTemplate=_.template('<div class="chat-settings"> 	<div class="chat-settings-prompt">Set your chat preferences just the way you like.</div> 	<div class="chat-settings-title">Font, Size and Color</div>  	<div class="chat-settings-font"> 		<div class="chat-settings-font-family"> 			<div class="select-wrapper chat-settings-font-family-select"> 				<div class="select-option-selected gradient"> 					<div class="select-option-selected-text"><%= fontFamily[my.fontFamily] %></div> 					<div class="select-option-arrow"></div> 				</div> 				<div class="select-options"> 					<% _.each(fontFamily, function(value, key) { %> 					<div class="select-option-item <%= key === my.fontFamily ? \'selected\' : \'\' %>" 					     data-id="<%= key %>"><%= value %></div> 					<% }) %> 				</div> 			</div> 		</div> 		<div class="chat-settings-font-size"> 			<div class="select-wrapper chat-settings-font-size-select"> 				<div class="select-option-selected gradient"> 					<div class="select-option-selected-text">Size: <%= fontSize[my.fontSize] %></div> 					<div class="select-option-arrow"></div> 				</div> 				<div class="select-options"> 					<% _.each(fontSize, function(value, key) { %> 					<div class="select-option-item <%= key === my.fontSize ? \'selected\' : \'\' %>" 					     data-id="<%= key %>"><%= value %></div> 					<% }) %> 				</div> 			</div> 		</div> 	</div>  	<div class="chat-settings-color-list"> 		<% _.each(color, function(value, key) { %> 			<div class="chat-settings-color-item <%= key === my.color ? \'active\' : \'\' %>" 			     data-id="<%= key %>" style="background-color: <%= value %>"></div> 		<% }) %> 	</div>  	<div class="chat-settings-buttons"> 		<button class="button button-cancel chat-settings-cancel"></button> 		<button class="button button-save chat-settings-save"></button> 	</div> </div>');app.templates.smileItemTemplate=_.template('<img style="width:<%= width %>px" data-id="<%= id %>" <% if (code) { %> data-code="<%= code %>" <% } %> class="smile" src="<%= image %>"/>');app.templates.smilePickerTemplate=_.template('<div class="smilePicker"> </div>');app.templates.userDetailsTemplate=_.template('<div class="userDetails" data-id="<%= userID %>">     <div class="username">         <%= isMe ? \'me\' : _.escape(username) %>     </div>      <% if (!isMe) { %>         <div class="detailsAction followButton"> 	        <%= isFollowing ? \'Unfollow\' : \'Follow\' %>         </div>  	    <% if (!isPrivateChatter) { %> 	        <div class="detailsAction privateChatButton">Private Chat</div> 	    <% } %>  	    <div class="detailsAction blockButton"> 		    <%= isBlocked ? \'Unblock\' : \'Block\' %> 	    </div>     <% } %> </div>');app.templates.notificationTemplate=_.template('<div class="notification">     <div class="close-button">x</div>     <div class="notification-title"><%= title %></div>     <div class="notification-text"><%= notification %></div> </div>');app.templates.versionTemplate=_.template('<div id="version-box">Version: 0.3</div>');app.templates.navigationTemplate=_.template('<div class="navigationBar"> 	<span class="navigationLink" id="chatButton" data-id="chat"> 		<i>Chat</i> 	</span><span class="navigationLink" id="twitterButton" data-id="twitter"> 		<i>Twitter</i> 	</span>  	<span id="closeButton"></span> 	<span id="expandButton"></span> </div>');app.templates.preloaderTemplate=_.template('<div id="app-preloader"><div></div></div>');app.templates.allFollowersListItemTemplate=_.template('<div class="userListItem" <%= (!query || (query && username.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %>> 	<img src="<%= thumbURL %>" /> 	<span class="usernameLabel"><%= _.escape(username) %></span> 	<% if (isOnline) { %><div class="greenSquare"></div><% } %> 	<% if (isBlocked) { %> 		<div class="userBlockedLabel"> blocked</div> 	<% } %>  	<div class="rooms-edit-checkbox"> 		<label class="checkbox-label rooms-edit-followers-selector <%= isMember ? \'active\' : \'\' %>" data-id="<%= userID %>"> 			<i></i> 		</label> 	</div>  </div>');app.templates.creatingRoomTemplate=_.template('<div class="rooms-create-loading"> 	<div class="rooms-create-loading-message">Creating your room...</div> 	<div class="rooms-create-loading-progress"></div> </div>');app.templates.editRoomTemplate=_.template('<div class="input-wrapper rooms-edit-input-wrapper"> 	<% if (error) { %> 		<div class="rooms-edit-errors"><%= error %></div> 	<% } %> 	<input type="text" id="rooms-edit-name" placeholder="Required: Enter a Room Name" value="<%= _.escape(name) %>" maxlength="<%= maxlength %>" /> </div>  <div class="rooms-edit-radiobuttons"> 	<label class="radio-label rooms-room-type-selector <%= type === app.constants.ROOM_PUBLIC_TYPE ? \'active\' : \'\' %>" data-type="public"> 		<i></i><span class="radio-text">Public</span> 	</label> 	<label class="radio-label rooms-room-type-selector <%= type === app.constants.ROOM_PRIVATE_TYPE ? \'active\' : \'\' %>" data-type="private"> 		<i></i><span class="radio-text">Private</span> 	</label> </div>  <div class="rooms-edit-invite"> 	<div class="rooms-edit-people-wrapper"> 		<div class="rooms-edit-invite-people">Invite People</div> 		<div class="rooms-edit-people-list <% if (error) print(\'error\') %>"></div> 	</div> 	<div class="rooms-edit-buttons"> 		<% if (roomID) { %> 			<button class="button button-delete rooms-edit-delete"></button> 		<% } %> 		<button class="button button-cancel rooms-edit-cancel"></button> 		<% if (roomID) { %> 			<button class="button button-update rooms-edit-update"></button> 		<% } else { %> 			<button class="button button-create rooms-edit-create"></button> 		<% } %> 	</div> </div>');app.templates.roomsTemplate=_.template('<div class="search-wrapper"> 	<input class="search rooms-search" value="<%= _.escape(query) %>" placeholder="Search for a chat room" type="text" /> </div>  <div id="rooms-container" class="customized-scrollbar-dark"> 	<div class="customScrollBox"> 		<div class="container"> 			<div id="rooms-viewport"  class="content"> 				<div class="rooms-group <%= _expanded.recommended ? \'\' : \'hide\' %>" data-group-id="recommended"> 					<div class="rooms-group-title"><i></i>Recommended Auditorium</div> 					<div class="rooms-group-items"> 						<% _.each(recommended, function(room) { %> 							<div <%= (!query || (query && room.name.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %> 								 class="rooms-group-item" data-id="<%= room.roomID %>"> 								<span class="rooms-group-item-name"><%= _.escape(room.name) %></span> 								<span class="rooms-group-item-usage rooms-group-item-usage-<%= room[app.constants.ROOM_USAGE] %>"></span> 							</div> 						<% }) %> 					</div> 				</div> 				<div class="rooms-group <%= _expanded.my ? \'\' : \'hide\' %>" data-group-id="my"> 					<div class="rooms-group-title"><i></i>Your Chat Rooms</div> 					<div class="rooms-group-items"> 						<% if (_myActivity) { %> 							<% if (my.last) { %> 								<div <%= (!query || (query && my.last.name.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %> 									 class="rooms-group-item" data-id="<%= my.last.roomID %>"> 									<span class="rooms-group-item-icon rooms-group-item-icon-last"></span> 									<% if (my.last[app.constants.LAST_AND_FAVORITE]) { %><span class="rooms-group-item-icon rooms-group-item-icon-favorite"></span><% } %> 									<span class="rooms-group-item-name last"><%= _.escape(my.last.name) %></span> 									<% if (my.last[app.constants.ROOM_OWNER]) { %><span class="rooms-group-item-icon-edit"></span><% } %> 									<span class="rooms-group-item-usage rooms-group-item-usage-<%= my.last[app.constants.ROOM_USAGE] %>"></span> 								</div> 							<% } %>                             <% _.each(my.active, function (room) { %>                                 <div <%= (!query || (query && room.name.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %>                                     class="rooms-group-item" data-id="<%= room.roomID %>">                                     <span class="rooms-group-item-icon rooms-group-item-icon-active"></span>                                     <span class="rooms-group-item-name"><%= _.escape(room.name) %></span>                                     <% if (room[app.constants.ROOM_OWNER]) { %><span class="rooms-group-item-icon-edit"></span><% } %>                                     <span class="rooms-group-item-usage rooms-group-item-usage-<%= room[app.constants.ROOM_USAGE] %>"></span>                                 </div>                             <% }) %> 							<% _.each(my.favorite, function(room) { %> 								<div <%= (!query || (query && room.name.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %> 									 class="rooms-group-item" data-id="<%= room.roomID %>"> 									<span class="rooms-group-item-icon rooms-group-item-icon-favorite"></span> 									<span class="rooms-group-item-name"><%= _.escape(room.name) %></span> 									<% if (room[app.constants.ROOM_OWNER]) { %><span class="rooms-group-item-icon-edit"></span><% } %> 									<span class="rooms-group-item-usage rooms-group-item-usage-<%= room[app.constants.ROOM_USAGE] %>"></span> 								</div> 							<% }) %> 							<% _.each(my.own, function(room) { %> 								<div <%= (!query || (query && room.name.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %> 									 class="rooms-group-item" data-id="<%= room.roomID %>"> 									<span class="rooms-group-item-icon rooms-group-item-icon-own"></span> 									<span class="rooms-group-item-name"><%= _.escape(room.name) %></span> 									<% if (room[app.constants.ROOM_OWNER]) { %><span class="rooms-group-item-icon-edit"></span><% } %> 									<span class="rooms-group-item-usage rooms-group-item-usage-<%= room[app.constants.ROOM_USAGE] %>"></span> 								</div> 							<% }) %> 						<% } else { %> 							<div class="rooms-group-item-no-rooms"> 								No rooms yet?<br/> 								Create some. Invite people. Join one. Favorite some 							</div> 						<% } %> 					</div> 				</div> 				<div class="rooms-group <%= _expanded.all ? \'\' : \'hide\' %>" data-group-id="all"> 					<div class="rooms-group-title"><i></i>All Superpass Chat Rooms</div> 					<div class="rooms-group-items"> 						<% _.each(all, function(room) { %> 							<div <%= (!query || (query && room.name.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %> 								 class="rooms-group-item" data-id="<%= room.roomID %>"> 								<span class="rooms-group-item-name"><%= _.escape(room.name) %></span> 								<span class="rooms-group-item-usage rooms-group-item-usage-<%= room[app.constants.ROOM_USAGE] %>"></span> 							</div> 						<% }) %> 					</div> 				</div> 			</div> 		</div> 		<div class="dragger_container"> 			<div class="dragger"> 				<div class="scrollThumb"></div> 			</div> 		</div> 	</div> </div>');app.templates.signupTemplate=_.template('<div id="signup"> 	<div id="signup-box"> 		<h1>Tell us who you are!</h1> 		<h4>Create a unique user name<br/> to begin your chat!</h4> 		<div class="sign-up-inputs"> 			<input class="sign-up-input" value="<%= value %>" maxlength="<%= maxlength %>" type="text" /> 			<button class="button button-create sign-up-ok"></button> 			<button class="button button-cancel sign-up-cancel"></button> 		</div> 		<div class="sign-up-faq"> 			<span class="signup-more-info">Learn more</span> 		</div> 		<% if (error) { %> 			<div class="error">Sorry, that user name is taken. Please try again.</div> 		<% } %> 	</div> </div>');app.templates.toolsTemplate=_.template('<div class="tools"> 	<div class="floatLeft"> 	    <span id="tools-chat-rooms">Chat Rooms</span> 	    <span id="tools-chat-create-room">Create a Room</span> 	</div> 	<div class="floatRight">         <span id="tools-private-chats"></span> 	    <span id="tools-online-list"></span> 	    <span id="tools-chat-settings"></span> 	</div> </div>');app.templates.tweetTemplate=_.template('<li class="tweet" data-id="<%= id %>"> 	<img src="<%= thumbURL %>" alt="" /> <%= text %> 	<div class="clear"></div> </li>');app.templates.twitterTemplate=_.template('<div id="tweetsContainer" class="customized-scrollbar-dark"> 	<div class="customScrollBox"> 		<div class="container"> 			<ul id="tweetList" class="content"></ul> 		</div> 		<div class="dragger_container"> 			<div class="dragger"> 				<div class="scrollThumb"></div> 			</div> 		</div> 	</div> </div>');app.templates.onlineFollowersListItemTemplate=_.template('<div class="userListItem" <%= (!query || (query && username.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %>> 	<img src="<%= thumbURL %>" /> 	<span class="usernameLabel"><%= _.escape(username) %></span> 	<div class="greenSquare"></div>  	<% if (isBlocked) { %> 		<div class="userBlockedLabel"> blocked</div> 	<% } %>  	<% if (rooms) { %> 		<div class="user-online-room"> 			In: <span class="user-online-room-name" data-id="<%= rooms.id %>"><%= _.escape(rooms.name) %></span> 		</div> 	<% } %>  </div>');app.templates.userBannedTemplate=_.template('<div style=" position: absolute; top: 48%; text-align: center; background: #fff; color: #c00; font: 20px Arial; width: 100%; margin: -10px; "><%= message %></div>');app.templates.userListItemTemplate=_.template('<div data-id="<%= userID %>" class="userListItem" <%= (!query || (query && username.toLowerCase().indexOf(query) === 0)) ? \'\' : \'style="display:none"\' %>>     <img src="<%= thumbURL %>" />     <span class="usernameLabel"><%= _.escape(username) %></span>     <div class="greenSquare"></div>          <% if(isBlocked) { %>         <div class="userBlockedLabel"> blocked</div>     <% } %> </div>');app._super||(app._super={});app._super.ToggleView=Backbone.View.extend({$allElem:".contentBox",currentViewDataID:null,toggle:function(a){$(this.$allElem).hide();this.$el.toggle(a);if(this.currentViewDataID&&this.$el.hasClass("overlayBox")){this.$el.attr("data-id",this.currentViewDataID)}},isCurrentView:function(){return this.currentViewDataID&&(this.currentViewDataID===this.$el.attr("data-id"))}});app._super||(app._super={});app._super.ScrollerView=app._super.ToggleView.extend({$_viewport:null,$_container:".container",$_draggerContainer:".dragger_container",$_dragger:".dragger",initCustomScroll:function(h,b){$(this.$_viewport).mCustomScrollbar("vertical",0,"easeOutCirc",1,"auto","yes");if((h&&h.containerTop)||b){var e=this.$el.find(this.$_viewport+" "+this.$_dragger),g=this.$el.find(this.$_viewport+" "+this.$_container),d=g.height(),a=e.height(),f,c;if(b){f=$(this.$_viewport).height()-d;c=$(this.$_viewport+" "+this.$_draggerContainer).height()-a}else{f=h.containerTop-(d-h.containerHeight);c=h.draggerTop+(h.draggerHeight-a)}g.css("top",f<0?f:0);e.css("top",c>0?c:0)}},getCurrentOffset:function(a){var e=this.$el.find(this.$_viewport+" "+this.$_container);var c=this.$el.find(this.$_viewport+" "+this.$_dragger);var b={containerTop:parseInt(e.css("top"),10)||0,containerHeight:e.height()||0,draggerTop:parseInt(c.css("top"),10)||0,draggerHeight:c.height()||0};if(b.containerTop===0){b.draggerTop=0}if(a){if(b.containerTop===0){var d=$(this.$_viewport).height()-b.containerHeight;if(d<0){b.containerTop=d}}if(b.draggerTop===0){b.draggerTop=$(this.$_viewport+" "+this.$_draggerContainer).height()-b.draggerHeight}}return b}});app._super||(app._super={});app._super.CommonListView=app._super.ScrollerView.extend({el:".contentBox.overlayBox",$_viewport:"#common-users-list-container",$userList:"#userList",$container:".common-user-list-container",$userListItem:".userListItem",$usernameLabel:".usernameLabel",$search:".common-search-users",$back:"#common-users-list-back",query:"",commonUserListTemplate:app.templates.userListTemplate,commonUserListItemTemplate:null,initialize:function(){_.bindAll(this);this.setEvents(true)},closeClickHandler:function(){app._router.goSilentlyBack();this.$el.removeAttr("data-id")},remove:function(){this.setEvents(false)},setEvents:function(a){var b=a?"on":"off";this.collection[b]("reset",this.renderList);this.$el[b]("keyup",this.$search,this.searchKeyupHandler);this.$el[b]("click",this.$back,this.closeClickHandler)},renderList:function(){var d=this.collection.toJSON();if(this.showOnlineOnly){var b=this.collection.where({isOnline:true});d=b.length?(new Backbone.Collection(b)).toJSON():[]}var f=this.getCurrentOffset(),e=$(this.$userList),a=this,c=[];_.each(d,function(g){c.push(a.createRenderer(g))});e.html(c.join(""));this.initCustomScroll(f)},createRenderer:function(a){if(a.isMe){a.username="me"}a.query=this.query;a.isMember=a.isMember||false;return this.commonItemTemplate(a)},searchKeyupHandler:function(c){this.query=$.trim($(c.currentTarget).val().toLowerCase());var b=this.$userListItem;var a=this.query;_.each($(this.$usernameLabel),function(d){var e=$(d);e.parents(b).toggle(e.text().toLowerCase().indexOf(a)===0)});this.initCustomScroll()}});app._super||(app._super={});app._super.FollowersController={getFollowers:function(c,a){var b=this;app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"getFollowing",null,function(d){b.updateCollection(c,a,d.result)})},updateCollection:function(c,b,d){if(!d||!d.length){return false}var a=[];_.each(d.sort(this.sortByName),function(f){if(!new app.user.UserModel(f).isValid()){return false}if(b){f.isMe=b.get("userID")===f.userID}f.id=f.userID;f.thumbURL=f.thumbURL||app.constants.DEFAULT_THUMB_URL;f.isOnline=f.isOnline;f.isBlocked=app.globals.blockedIDs.indexOf(f.userID)!==-1;if(f.rooms&&f.rooms.length&&f.rooms[0]){var g=app.rooms.RoomsCollection.isAllowedRoom(f.rooms[0]);if(g){f.rooms={};f.rooms.id=g.get("id");f.rooms.name=g.get("name")}else{f.rooms=null}}else{f.rooms=null}var e=app.globals.blockedIDs.indexOf(f.userID)!==-1?"unshift":"push";a[e](f)});c.reset(a)},sortByName:function(d,c){if(!c||!c.username||!d||!d.username){return 0}try{var h=d.username.toString().toUpperCase();var f=c.username.toString().toUpperCase()}catch(g){return 0}if(h===f){return 0}return h>f?1:-1}};app.clipsync||(app.clipsync={});app.clipsync.ApiModel=Backbone.Model.extend({defaults:{methodType:"post",dataType:"json",url:null,constants:null,sid:null,connections:{}},queue:{start:null,stack:[],executeAfter:200,maxWait:250,timeout:new app.utils.timeout()},initialize:function(){_.bindAll(this);app.eventDispatcher.on(app.events.API_CALL,this.call);app.eventDispatcher.on(app.events.API_CALL_QUEUE,this.callInQueue);app.eventDispatcher.on(app.events.ABORT_API_CONNECTION,this.abort)},callInQueue:function(d,b,c){if(this.queue.timeout.isActive()){var a=((new Date()).getTime()-this.queue.start)>(this.queue.maxWait-this.queue.executeAfter);if(a){this.executeQueue()}else{this.queue.stack.push([d,b,c])}}else{this.queue.start=(new Date()).getTime();this.queue.stack.push([d,b,c]);this.queue.timeout.set(this.executeQueue,this.queue.executeAfter)}},executeQueue:function(){var e=this.queue.stack.length;if(e===1){var b=this.queue.stack[0];this.call(b[0],b[1],b[2])}else{if(e>1){var f=[];var d=[];var a=this.get("sid");var c=app.localStore.get("userID");_.each(this.queue.stack,function(h,g){f[g]||(f[g]={});if(g===0){f[g]["sid"]=a;f[g]["customerID"]=c}f[g]["method"]=h[0];f[g]["args"]=h[1];d[g]=h[2]});this.call(f,null,d,true)}}this.clearQueue()},clearQueue:function(){this.queue.start=null;this.queue.stack=[];this.queue.timeout.clear()},call:function(a,g,h,e){var f=this,b=undefined,i=f.attributes.connections,d=a;if(i[d]==="aborted"){_.delay(f.call,100,a,g,h);return false}var c=function(k,j,m){var l=function(){var n=false;n=k.fault.indexOf(f.get("constants").USER_ID_BLOCKED)===0||n;n=k.fault.indexOf(f.get("constants").USER_IP_BLOCKED)===0||n;if(n){var o=$.trim(k.fault.slice(k.fault.indexOf(":")+1));app.eventDispatcher.trigger(app.events.USER_BANNED,o)}return n};if(e&&j&&!(m>=0)){_.each(k,function(o,n){c(o,j,n)});return false}if(k&&k.fault&&l()){return false}if(j){if(_.isFunction(h)){h(k,j)}else{if(_.isArray(h)&&(m>=0)&&_.isFunction(h[m])){h[m](k,j)}}}else{_.defer(function(){var n=i[d]==="aborted";delete f.attributes.connections[d];if(!n){app.utils.updateOnError(function(){f.call(a,g,h)},a)}})}};if(_.isArray(a)&&!e){d=[];_.each(a,function(k,j){if(j===0){a[j]["sid"]=f.get("sid");a[j]["customerID"]=app.localStore.get("userID")}if(_.isString(k.method)){d.push(k.method)}});b=a;d=d.join("_")}else{if(e){d=[];_.each(a,function(k,j){if(_.isString(k.method)){d.push(k.method)}});b=a;d=d.join("_")}else{b={sid:f.get("sid"),method:a,args:g};b.customerID=app.localStore.get("userID")}}i[d]=app.utils.httpRequest(JSON.stringify(b),c,f.get("url"),f.get("methodType"),f.get("dataType"))},abort:function(b){var a=this.attributes.connections[b];if(a==="aborted"){var c=this;_.delay(c.abort,100,b)}else{if(a){a.abort();if(app.utils.isIE()&&a.readyState===0){delete this.attributes.connections[b]}else{this.attributes.connections[b]="aborted"}}}}});app.clipsync||(app.clipsync={});app.clipsync.ConfigModel=Backbone.Model.extend({defaults:{sid:"5c09286115fb4bed9e60f0b0fd5408d4",url:"http://"+app.utils.getParameterByName("s","api")+".clipsync.com/api",proxyURL:"http://"+app.utils.getParameterByName("s","api")+".clipsync.com/getUrl.aspx?url="}});app.clipsync||(app.clipsync={});app.clipsync.ConstantsModel=Backbone.Model.extend({defaults:{USER_ID_BLOCKED:"UserID Blocked:",USER_IP_BLOCKED:"IP Blocked:",USER_EJECTED:"User Ejected:"}});app.clipsync||(app.clipsync={});app.clipsync.ClipsyncView=Backbone.View.extend({versionTemplate:app.templates.versionTemplate,$version:"#version-box",initialize:function(){_.bindAll(this);$(document).keydown(this.documentKeydownHandler)},documentKeydownHandler:function(a){if(a.altKey&&a.ctrlKey&&a.keyCode===89){this.showVersion()}},showVersion:function(){var b=$(this.$version),a=b.length;b.remove();if(!a){$("body").append(this.versionTemplate())}}});app.clipsync||(app.clipsync={});app.clipsync.NotificationView=Backbone.View.extend({template:app.templates.notificationTemplate,events:{"click .close-button":"remove"},render:function(b){var a=$(this.template(b)).appendTo($("body"));this.setElement(a)},remove:function(){$(this.$el).remove()}});app.clipsync||(app.clipsync={});app.clipsync.ClipsyncController=function(g){var c;var h;var d;var f;var a;(function e(i){c=i;d=new app.clipsync.ConfigModel().toJSON();f=new app.clipsync.ConstantsModel().toJSON();h=new app.clipsync.ApiModel({constants:f,url:d.url,sid:d.sid});a=new app.clipsync.ClipsyncView();app.eventDispatcher.on(app.events.SHOW_NOTIFICATION,b)}(g));function b(j,i){new app.clipsync.NotificationView().render({title:j,notification:i})}return{config:d}};app.user||(app.user={});app.user.PointsCollection=Backbone.Collection.extend({initialize:function(){}});app.user||(app.user={});app.user.UserModel=Backbone.Model.extend({defaults:{authorized:false,username:null,userID:null,points:0,isBlocked:false,isMe:false,thumbURL:app.constants.DEFAULT_THUMB_URL,isPrivateChatter:false},castFields:["username","userID","thumbURL"],validate:function(a){if(!a.username){return"username is empty"}if(!a.userID){return"userID is empty"}},toJSON:function(b){if(b&&b.castFieldsOnly&&this.castFields&&_.isArray(this.castFields)){var a={},c=this;_.each(this.attributes,function(e,d){if(c.castFields.indexOf(d)>=0){a[d]=e}});return a}return Backbone.Model.prototype.toJSON.apply(this,[b])},initialize:function(){_.bindAll(this)}});app.user||(app.user={});app.user.FollowerListView=app._super.CommonListView.extend({commonItemTemplate:app.templates.onlineFollowersListItemTemplate,$roomNameButton:".user-online-room-name",showOnlineOnly:true,currentViewDataID:"follower-list",setEvents:function(a){var b=a?"on":"off";app._super.CommonListView.prototype.setEvents.call(this,a);this.$el[b]("click",this.$roomNameButton,this.openRoom)},openRoom:function(a){var b=$(a.currentTarget).attr("data-id");if(b){app.rooms.RoomsCollection.makeLast(b);app.eventDispatcher.trigger(app.events.JOIN_ROOM,b)}},render:function(a){this.$el.html(this.commonUserListTemplate({type:app.constants.USER_LIST.ONLINE,query:this.query,roomname:a?a.roomname:null}));this.renderList()}});app.user||(app.user={});app.user.UserListView=app._super.CommonListView.extend({commonItemTemplate:app.templates.userListItemTemplate,currentViewDataID:"userList",initialize:function(){app._super.CommonListView.prototype.initialize.apply(this);_.bindAll(this)},comparator:function(d,c){if(!d){return -1}if(!c){return 1}if(d.get("isBlocked")!==c.get("isBlocked")){return d.get("isBlocked")?-1:1}var e=(d.get("username")||"").toLowerCase()<(c.get("username")||"").toLowerCase()?-1:1;return e},render:function(a){this.collection.bind("change:isBlocked",this.collectionChangeHandler);this.collection.comparator=this.comparator;a.query=this.query;a.type=app.constants.USER_LIST.IN_THE_ROOM;this.$el.html(this.commonUserListTemplate(a));this.renderList()},renderList:function(){app._super.CommonListView.prototype.renderList.apply(this);this.addEvents()},remove:function(){this.removeEvents()},addEvents:function(){$("#"+this.currentViewDataID+" .usernameLabel").mouseup(this.usernameMouseupHandler).on("contextmenu",this.usernameContextmenuHandler)},removeEvents:function(){$("#"+this.currentViewDataID+" .usernameLabel").unbind("mouseup",this.usernameMouseupHandler).unbind("contextmenu",this.usernameContextmenuHandler)},usernameMouseupHandler:function(c){if(c.button===2){var b={x:c.pageX,y:c.pageY},d=$(c.currentTarget).parent().attr("data-id"),a=this.collection.get(d);app.eventDispatcher.trigger(app.events.SHOW_USER_DETAILS,a,b)}},usernameContextmenuHandler:function(a){return false},collectionChangeHandler:function(b){this.removeEvents();var a=this;$.each($(".userListItem"),function(c,d){if($(d).attr("data-id")===b.get("userID")){$(d).replaceWith(a.createRenderer(b.toJSON()));return false}});this.addEvents()}});app.user||(app.user={});app.user.UserView=Backbone.View.extend({el:"#userBox",$section:".section",inactive:"inactive",lightbox:null,userBannedTemplate:app.templates.userBannedTemplate,renderBanMessage:function(b){var a=this.userBannedTemplate({message:b});document.head.innerHTML="";document.body.innerHTML=a}});app.user||(app.user={});app.user.UserController=function(E){var G,l=_.extend({},app._super.FollowersController),e,F,b,B={},q,c=new app.utils.timeout(),r=new app.utils.timeout();(function C(J){G=J||{};F=new Backbone.Collection();e=new app.user.UserModel();e.on("change",o);app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,x);app.eventDispatcher.on(app.events.USER_BANNED,I);app.eventDispatcher.on(app.events.USER_AUTHORIZED,n);app.eventDispatcher.on(app.events.USER.BLOCK,g);app.eventDispatcher.on(app.events.USER.UNBLOCK,j);app.eventDispatcher.on(app.events.USER.FOLLOW,h);app.eventDispatcher.on(app.events.USER.UNFOLLOW,f);app.eventDispatcher.on(app.events.CREATE_NOTIFICATION,w);A()}(E));function x(K,N){var J=app.constants.NAVIGATION.CHAT_USER_LIST===K;var M=app.constants.NAVIGATION.CHAT_ONLINE===K;var L=N&&N.silent;if(J){s();if(!q||(q&&!q.isCurrentView())){d(N.roomID,decodeURIComponent(N.name))}q.toggle(true)}else{if(M){i();if(!b||(b&&!b.isCurrentView())){a()}b.toggle(true)}else{if(!J&&q){i()}else{if(!M&&b){s()}}}}}function i(){if(!q){return false}q.remove();q=null;c.clear()}function s(){if(!b){return false}b.remove();b=null;r.clear()}function a(){t();b=new app.user.FollowerListView({collection:F});b.toggle(true);var J=app._router.getCorrectLocation(),K=null;if(J&&(J.location===app.constants.NAVIGATION.CHAT_MESSAGING)&&J.params){var L=app.rooms.RoomsCollection.get(J.params.roomID);if(L){K=L.get("name")}}b.render({roomname:K})}function t(){l.getFollowers(F,e);r.set(function(){t()},app.constants.UPDATE.USER_LIST*1000)}function d(K,J){if(!K){return false}G.roomID=K;G.roomname=J;m();p(K)}function m(){B[G.roomID]||(B[G.roomID]=new Backbone.Collection(null,{model:app.user.UserModel}));q=new app.user.UserListView({collection:B[G.roomID]});q.toggle(true);q.render(G)}function p(J){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"getParticipantsInfo",[J],function(K){c.set(function(){p(J)},app.constants.UPDATE.USER_LIST*1000);l.updateCollection(B[J],e,K.result)})}function n(J){if(J){e.set(J)}}function o(J){var K=J.changedAttributes();if(K.username){sync=true}if(K.userID){sync=true}if(K.thumbURL){sync=true}if(K.location){sync=true}if(K.username){D()}app.eventDispatcher.trigger(app.events.USER_CHANGED,e.toJSON({castFieldsOnly:true}),sync)}function D(){var J=e.get("userID");if(J){app.localStore.set("userID",J)}}function A(){var J={userID:app.localStore.get("userID")};if(G.username){J.username=G.username}app.eventDispatcher.trigger(app.events.API_CALL,"syncUserInfo",[J],z)}function k(){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"updateUserSession",[e.get("_userSession")],function(J){_.delay(k,app.constants.UPDATE.SESSION_TIME*1000);if(J.result){e.set("_userSession",J.result)}})}function z(J){if(J.result){e.set(J.result)}k();y();H()}function y(){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"getProperties",[],function(J){if(J&&J.result){app.eventDispatcher.trigger(app.events.PROPERTIES_CAME,J.result)}})}function I(J){}function H(){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"getBlockedUsers",null,function(J){if(!J||!J.result||!_.isArray(J.result)){return false}_.each(J.result,function(K){if(app.globals.blockedIDs.indexOf(K)<0){app.globals.blockedIDs.push(K)}})})}function g(J){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"blockUser",[J],function(){if(app.globals.blockedIDs.indexOf(J)<0){app.globals.blockedIDs.push(J)}})}function j(J){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"unblockUser",[J],function(){var K;if((K=app.globals.blockedIDs.indexOf(J))>=0){app.globals.blockedIDs.splice(K,1)}})}function h(J,K){app.globals.followingIDs.update(J,true);app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"follow",[J],function(L){v(L,K,J)})}function f(J){app.globals.followingIDs.update(J,false);app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"unFollow",[J])}function v(J,L,K){if(J.result===app.constants.FOLLOW_REQUEST_AUTOMATICALLY_ACCEPTED){u(L,K)}}function u(M,J){var K={type:app.constants.SOCIAL_ACTIVITIES.NEW_FOLLOWER,args:[]};var L={type:app.constants.SOCIAL_ACTIVITIES.NEW_FOLLOWER_OF_FOLLOWING,args:[{name:M,id:J}]};app.eventDispatcher.trigger(app.events.CREATE_NOTIFICATION,K,0,3,[J]);app.eventDispatcher.trigger(app.events.CREATE_NOTIFICATION,L,0,0)}function w(M,L,O,N){var Q=["Activity","Invite"],J=["Followers","Teams","TeamsAndFollowers","TargetUser"],R=M.type,K={},P=[];if(!M){return false}if(+L===0){_.each(M.args,function(S,T){R=R.split("~name").join(app.utils.Base64.encode(S.name||"")).split("~id").join(app.utils.Base64.encode(S.id||""))});K.message=R}else{if(+L===1){K.message=JSON.stringify(M.args||"{}");K.source=M.source}else{return false}}K.type=Q[+L];P=[K,J[+O||0],N||null];app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"createNotification",P)}};app.rooms||(app.rooms={});app.rooms.FollowersCollection=Backbone.Collection.extend({changes:{},initialize:function(){_.bindAll(this);this.on("reset",this.resetChanges);this.on("change:isMember",this.updateChanges)},updateChanges:function(b){var a=b.get("userID");if(!this.changes[a]){this.changes[a]={initial:b.previous("isMember")||false}}this.changes[a].isMember=b.get("isMember")},resetChanges:function(){this.changes={}},resetMembership:function(){_.each(this.models,function(a){a.set("isMember",false)});this.resetChanges()},getMembers:function(b){var a=[];_.each(this.models,function(d){if(d.get("isMember")){var c=d.get("userID");a.push(b?c:{userID:d.get("userID")})}});return a},getMemberIDs:function(){return this.getMembers(true)},getChangedMemberIDs:function(){var b=[];var a=[];_.each(this.changes,function(c,d){if(!c.initial&&c.isMember){b.push(d)}if(c.initial&&!c.isMember){a.push(d)}});return{added:b,canceled:a}}});app.rooms||(app.rooms={});app.rooms.RoomsCollection=new (Backbone.Collection.extend({comparator:function(d,c){if(!c||!c.get("name")||!d||!d.get("name")){return 0}try{var h=d.get("name").toString().toUpperCase();var f=c.get("name").toString().toUpperCase()}catch(g){return 0}if(h!==f){return h>f?1:-1}return d.get("gIndex")>c.get("gIndex")?-1:1},initialize:function(){_.bindAll(this)},makeLast:function(b){var a=this.get(b);if(!a){return false}_.filter(this.models,function(c){c.set(app.constants.ROOM_LAST,undefined)});return a.set(app.constants.ROOM_LAST,true)},getLastRoom:function(c){var a=_.filter(this.models,function(g){return !!g.get(app.constants.ROOM_LAST)});if(a.length){var e=a[0].get(app.constants.ROOM_OWNER);var f=a[0].get(app.constants.ROOM_FAVORITE);var d=a[0].get("type")===app.constants.ROOM_PRIVATE_TYPE;var b=d&&!!a[0].get(app.constants.ROOM_MEMBER);if(f){a[0].set(app.constants.LAST_AND_FAVORITE,true)}if(d&&!b&&!e){a=[]}}if(c&&a.length){a=this.convertModels(a)}return a[0]},getProtectedRooms:function(b){var a=_.filter(this.models,function(c){return !!c.get(app.constants.ROOM_PROTECTED)});if(b&&a.length){a=this.convertModels(a)}return a},getFavoriteRooms:function(b,d){var c=this,a=_.filter(this.models,function(f){var h=!!f.get(app.constants.ROOM_FAVORITE);var e=!!f.get(app.constants.ROOM_OWNER);var g=f.get("type")===app.constants.ROOM_PRIVATE_TYPE;var i=g&&!!f.get(app.constants.ROOM_MEMBER);return !c.isRoomIDInList(f.get("roomID"),d)&&h&&(e||!g||i)});if(b&&a.length){a=this.convertModels(a)}return a},getOwnRooms:function(b,d){var c=this,a=_.filter(this.models,function(e){return !c.isRoomIDInList(e.get("roomID"),d)&&!!e.get(app.constants.ROOM_OWNER)&&!e.get(app.constants.ROOM_LAST)});if(b&&a.length){a=this.convertModels(a)}return a},isRoomIDInList:function(b,d){d=d?[].concat(d):[];var c=d?d.length:0,e;for(var a=0;a<c;a++){e=d[a];if(e&&e.roomID===b){return true}}return false},getMaxRecommendedGIndex:function(){var b=this.getRecommendedRooms();var a=_.max(b,function(c){return c.get("gIndex")});return a.get("gIndex")||0},getGroupedRecommendedRoomIDs:function(){var a={};var b=(this.toJSON()).sort(function(d,c){return d.gIndex-c.gIndex});_.each(b,function(c){if(c.type!==app.constants.ROOM_RECOMMENDED_TYPE){return false}a[c.contentID]||(a[c.contentID]=[]);a[c.contentID].push(c.id)});return a},getRecommendedRooms:function(b){var a=_.filter(this.models,function(c){return c.get("type")===app.constants.ROOM_RECOMMENDED_TYPE});if(b&&a.length){a=this.convertModels(a)}return a},getFormattedRecommendedRooms:function(){var a=this.getRecommendedRooms(true);if(!a.length){return false}var b=[],c=[];a.sort(function(g,f){var e=g.name,d=f.name;return e<d?-1:e>d?1:0});_.each(a,function(d){if(d[app.constants.ROOM_REFERER]){c.push(d)}else{b.push(d)}});_.each(c.reverse(),function(d){b.unshift(d)});return b},getRecommendedRoomWithContentID:function(e,b){var a=_.filter(this.getRecommendedRooms(),function(f){return f.get("contentID")===e});var c=false;if(a.length){var d=[];_.each(a,function(f){if((f.get("count")||0)<app.constants.ROOMS_COUNT.RECOMMENDED){d.push(f)}});if(d.length){c=_.max(d,function(f){return f.get("count")||0});if(b&&c){c=this.convertModels([c]);c=c[0]}}}return c||app.constants.ROOM_RECOMMENDED_IF_FULL},getRecommendedRoomCount:function(a){return this.where({contentID:a,type:app.constants.ROOM_RECOMMENDED_TYPE}).length},getAllOtherRooms:function(b){var a=_.filter(this.models,function(c){var d=c.get("type")===app.constants.ROOM_PRIVATE_TYPE;var f=d&&!!c.get(app.constants.ROOM_MEMBER);var e=d&&!!c.get(app.constants.ROOM_OWNER);return !d||f||e});if(b&&a.length){a=this.convertModels(a)}return a},getAllRooms:function(b){var a=this.models;if(b&&a.length){a=this.convertModels(a)}return a},getActiveRooms:function(b){var a=_.filter(this.models,function(c){return c&&c.get("type")===app.constants.ROOM_USER_TO_USER});return b&&a&&a.length>0?this.convertModels(a):a},isAllowedRoom:function(b){var d=this.get(b);if(!d){return false}if(!!d.get(app.constants.ROOM_OWNER)){return d}var c=d.get("type")===app.constants.ROOM_PRIVATE_TYPE;var a=c&&!d.get(app.constants.ROOM_MEMBER);return a?false:d},convertModels:function(b){var a=[];_.each(b,function(c){a.push(c.toJSON())});return a}}));app.rooms||(app.rooms={});app.rooms.RoomModel=Backbone.Model.extend({validate:function(a){if(!a.contentID){return"contentID is empty"}if(!a.name){return"name is empty"}if(!a.roomID){return"roomID is empty"}if(!a.type){return"type is empty"}}});app.rooms||(app.rooms={});app.rooms.EditRoomView=app._super.CommonListView.extend({el:".contentBox.overlayBox",$roomName:"#rooms-edit-name",$roomType:".rooms-room-type-selector",$usersListBox:".rooms-edit-people-list",$followersSelector:".rooms-edit-followers-selector",template:app.templates.editRoomTemplate,creatingRoomTemplate:app.templates.creatingRoomTemplate,commonItemTemplate:app.templates.allFollowersListItemTemplate,currentViewDataID:"edit-room",events:{"click .rooms-room-type-selector":"selectRoomType","click .rooms-edit-followers-selector":"selectFollower","click .rooms-edit-cancel":"cancel","click .rooms-edit-delete":"deleteRoom","click .rooms-edit-create":"createRoom","click .rooms-edit-update":"updateRoom"},initialize:function(){app._super.CommonListView.prototype.initialize.apply(this);_.bindAll(this)},cancel:function(){this.remove();app._router.goSilentlyBack();this.$el.removeAttr("data-id")},goBack:function(){this.remove();app._router.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true})},deleteRoom:function(){app.eventDispatcher.trigger(app.events.DELETE_ROOM,this.roomID)},updateRoom:function(){app.eventDispatcher.trigger(app.events.UPDATE_ROOM,this.getRoomData())},createRoom:function(){app.eventDispatcher.trigger(app.events.CREATE_ROOM,this.getRoomData())},getRoomData:function(){var d=$(this.$roomName);var a=$.trim(d.val()).slice(0,app.constants.ROOM_NAME_LENGTH);var b=$(this.$roomType+"[data-type=public]").hasClass("active");var c={type:b?app.constants.ROOM_PUBLIC_TYPE:app.constants.ROOM_PRIVATE_TYPE,name:a!==d.attr("placeholder")?a:"",roomID:this.roomID,error:null};return c},selectRoomType:function(a){$(this.$roomType).removeClass("active");$(a.currentTarget).addClass("active")},selectFollower:function(c){var a=$(c.currentTarget);var b=this.collection.get(a.attr("data-id"));a.toggleClass("active");if(b){b.set("isMember",a.hasClass("active"))}},showLoading:function(){this.$el.html(this.creatingRoomTemplate())},renderFollowers:function(){$(this.$usersListBox).html(this.commonUserListTemplate({type:app.constants.USER_LIST.EDIT_ROOM,query:this.query}));this.renderList()},render:function(a){a.maxlength=app.constants.ROOM_NAME_LENGTH;this.roomID=a.roomID;this.$el.html(this.template(a));app.utils.enablePlaceholder();this.renderFollowers()}});app.rooms||(app.rooms={});app.rooms.RoomsView=app._super.ScrollerView.extend({el:".contentBox.chatBox",$_viewport:"#rooms-container",$settings:".chat-settings",$search:".rooms-search",$groupTitle:".rooms-group-title",$roomGroup:".rooms-group-item",$roomName:".rooms-group-item-name",$editRoom:".rooms-group-item-icon-edit",template:app.templates.roomsTemplate,query:"",expanded:{recommended:true,my:true,all:false},initialize:function(){_.bindAll(this);this.$el.on("click",this.$groupTitle,this.toggleGroup);this.$el.on("click",this.$roomName,this.openRoom);this.$el.on("click",this.$editRoom,this.editRoom);this.$el.on("keyup",this.$search,this.search)},openRoom:function(a){var b=$(a.currentTarget).parent().attr("data-id");if(b){app.eventDispatcher.trigger(app.events.JOIN_ROOM,b)}},editRoom:function(a){var b=$(a.currentTarget).parent().attr("data-id");if(b){app._router.navigate(app.constants.NAVIGATION.CHAT_EDIT_ROOM+"/"+b,{trigger:true})}},search:function(b){this.query=$.trim($(b.currentTarget).val().toLowerCase());var c=this.$roomGroup;var a=this.query;_.each($(this.$roomName),function(e){var d=$(e);d.parent(c).toggle(d.text().toLowerCase().indexOf(a)===0)});this.initCustomScroll()},toggleGroup:function(b){var a=$(b.currentTarget).parent();a.toggleClass("hide");this.expanded[a.attr("data-group-id")]=!a.hasClass("hide");this.initCustomScroll()},render:function(){var f=this.getCurrentOffset();var c=this.collection.getLastRoom(true);var e=this.collection.getActiveRooms(true);var a=this.collection.getFavoriteRooms(true,c);var b=this.collection.getOwnRooms(true,a);var d={query:this.query,recommended:this.collection.getFormattedRecommendedRooms(true),my:{last:c,active:e,favorite:a,own:b},all:this.collection.getAllOtherRooms(true),_expanded:this.expanded};d._myActivity=d.my.last||d.my.favorite.length||d.my.own.length;this.$el.html(this.template(d));this.initCustomScroll(f);app.utils.enablePlaceholder();_.delay(function(){app.eventDispatcher.trigger(app.events.TOGGLE_PRELOADER,false)},500)}});app.rooms||(app.rooms={});app.rooms.EditRoomController=function(s){var t={},v,g=_.extend({},app._super.FollowersController),f,w,j;(function q(x){_.extend(t,x||{});f=new app.rooms.FollowersCollection();j=new app.rooms.EditRoomView({collection:f});app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,m);app.eventDispatcher.on(app.events.CREATE_ROOM,e);app.eventDispatcher.on(app.events.UPDATE_ROOM,c);app.eventDispatcher.on(app.events.DELETE_ROOM,k);app.eventDispatcher.on(app.events.USER_CHANGED,h)}(s));function m(x,C){var B=app.constants.NAVIGATION.CHAT_EDIT_ROOM===x;var y=C&&C.silent;var z=C&&C.roomID;if(B&&y){if(v&&j.isCurrentView()){j.toggle(true);return false}var A=app.rooms.RoomsCollection.get(z?z:null);if(z&&!A){app._router.navigate(app.constants.NAVIGATION.CHAT_EDIT_ROOM,{trigger:true});return false}i(A)}else{if(!B&&v&&(!y||!j.isCurrentView())){v=false;f.reset()}}}function h(x){w=x}function i(y){u(y?y.toJSON():null);if(y){var x={method:"getFollowing",args:null};var z={method:"getRoomMembership",args:[y.id]};app.eventDispatcher.trigger(app.events.API_CALL,[x,z],null,function(A){d(y,A)})}else{g.getFollowers(f)}}function d(A,y){if(!y||!_.isArray(y)){return false}var z=y[0].result;var x=y[1].result;if(!x||!x.length||!z||!z.length){g.updateCollection(f,null,z)}else{_.each(x,function(B){if(B.userID){l(z,B.userID)}});g.updateCollection(f,null,z)}u(A?A.toJSON():null)}function l(x,y){$.each(x,function(z,A){if(A.userID===y){x[z].isMember=true;return false}})}function u(y){var x={error:y?y.error:"",name:y?y.name:"",roomID:y?y.roomID:"",type:y?y.type:app.constants.ROOM_PUBLIC_TYPE,users:[]};j.toggle(true);j.render(x);v=true}function k(x){if(!x){return false}var y=app.rooms.RoomsCollection.get(x);if(!y||!y.get(app.constants.ROOM_OWNER)){return false}if(confirm("Are you sure want to delete this room?")){p(y.toJSON(),false);app.rooms.RoomsCollection.remove(y);app.eventDispatcher.trigger(app.events.ROOM_HAS_BEEN_DELETED,x);app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"deleteRoom",[y.get("contentID"),x],j.goBack)}}function c(A){var z=n(A);var y={name:true,contentIDs:app.globals.allContents()};if(!z){return false}var x=app.rooms.RoomsCollection.get(z.roomID);if(!x||!x.get(app.constants.ROOM_OWNER)){return false}if(x.get("name")===z.name){y=null}app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"editRoom",[z.contentID,z,y],function(B){b(B,z)})}function e(z){var y=n(z);var x={name:true,contentIDs:app.globals.allContents()};if(!y){return false}app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"createRoom",[y,x],function(A){r(A,y)})}function n(x){if(!x.name){x.error=app.constants.CREATE_ROOM_ERROR.EMPTY;u(x);return false}j.showLoading();x.ownerID=w.userID;x.contentID=app.globals.contentID;x.roomID=x.roomID||null;x.ttl=app.constants.REMOVE_ROOM_AFTER;return x}function b(y,A){var x=o(y,A);if(!x){return false}a(A.roomID);var B=f.getChangedMemberIDs();if(B.added.length){p(A,true,B.added)}if(B.canceled.length){p(A,false,B.canceled)}var z=app.rooms.RoomsCollection.get(A.roomID);if(z){z.set(app.constants.ROOM_PROTECTED,true);z.set(A)}j.goBack()}function r(y,A){var x=o(y,A);if(!x){return false}A.id=A.roomID=x;A[app.constants.ROOM_USAGE]=0;A[app.constants.ROOM_OWNER]=true;A[app.constants.ROOM_PROTECTED]=true;a(x);p(A,true,f.getMemberIDs());var z=new app.rooms.RoomModel(A);if(z.isValid()){app.rooms.RoomsCollection.add(z,{silent:true})}app.eventDispatcher.trigger(app.events.JOIN_ROOM,A.id,true)}function p(B,A,x){var z=A?"INVITE_TO_ROOM":"REMOVE_INVITE_TO_ROOM",y={source:app.constants.SOCIAL_ACTIVITIES[z],args:[B.name,B.roomID]};app.eventDispatcher.trigger(app.events.CREATE_NOTIFICATION,y,1,x?3:0,x)}function a(x){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"setMembership",[x,f.getMembers()])}function o(x,y){if(x.fault&&x.fault===app.constants.CREATE_ROOM_ERROR.EXISTS.ERROR_CODE){y.error=app.constants.CREATE_ROOM_ERROR.EXISTS.ERROR_CODE;u(y);return false}if(x.result){return x.result}}};app.rooms||(app.rooms={});app.rooms.RoomsController=function(){var d=false,H,S,y=new app.utils.timeout(),K=new app.utils.timeout(),f,A,F,g,c;(function O(){f=app.rooms.EditRoomController();F=new Backbone.Collection();g=new Backbone.Collection();c=new app.rooms.RoomsView({collection:app.rooms.RoomsCollection});app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,R);app.eventDispatcher.on(app.events.USER_CHANGED,b);app.eventDispatcher.on(app.events.JOINED_TO_ROOM,J);app.eventDispatcher.on(app.events.JOIN_ROOM,M);app.eventDispatcher.on(app.events.ROOM_HAS_BEEN_DELETED,t);app.eventDispatcher.on(app.events.ROOM_MEMBER_IS.NEW,T);app.eventDispatcher.on(app.events.ROOM_MEMBER_IS.DELETED,x);app.eventDispatcher.on(app.events.CREATE_PRIVATE_CHAT,w)}());function R(U,X){var W=app.constants.NAVIGATION.CHAT_ROOMS===U;var V=X&&X.silent;if(W&&V){if(X&&X.firstTime){N()}c.toggle(true)}else{if(W&&!V){if(X&&X.firstTime){N()}K.clear();c.toggle(true);B()}else{if(!W&&!V){y.clear();if(!K.isActive()){P()}}}}}function B(){if(d){c.render();s()}else{if(A){s()}}}function C(){y.set(s,app.constants.UPDATE.ROOMS_LIST*1000)}function P(){K.set(D,app.constants.UPDATE.MEMBERSHIP*1000)}function t(U){F.add({id:U})}function N(){if(d){Q()}else{S=true}}function Q(V){V||(V=app.globals.contentID);var U=app.rooms.RoomsCollection.getRecommendedRoomWithContentID(V,true);if(U&&U.roomID){app.eventDispatcher.trigger(app.events.JOIN_ROOM,U.roomID,true)}else{if(U===app.constants.ROOM_RECOMMENDED_IF_FULL){r()}}}function T(W,U){if(!U){g.add({id:W})}var V=app.rooms.RoomsCollection.get(W);if(V){V.set(app.constants.ROOM_MEMBER,true,{silent:true})}}function x(V){g.remove(V);var U=app.rooms.RoomsCollection.get(V);if(U){U.unset(app.constants.ROOM_MEMBER,{silent:true})}}function w(U,W){if(!app.rooms.RoomsCollection.get(U)){var V=new app.rooms.RoomModel({roomID:U,name:W,type:app.constants.ROOM_USER_TO_USER,id:U});app.rooms.RoomsCollection.add(V)}l(U)}function l(U){app._router.navigate(app.constants.NAVIGATION.CHAT_MESSAGING+"/"+U,{trigger:true})}function I(U,V){app.rooms.RoomsCollection.makeLast(U);if(V){E(U)}else{j(U)}}function o(V){var U;_.each(app.constants.CONTENT_IDS,function(W){if(V===W.ID){U=W.ROOM_TITLE;return false}});return U}function r(X){X||(X=app.globals.contentID);var U=o(X);if(!U){return false}var V=X+"_"+app.rooms.RoomsCollection.getMaxRecommendedGIndex();var W={name:U,roomID:V,ttl:1,contentID:X,type:app.constants.ROOM_RECOMMENDED_TYPE};app.eventDispatcher.trigger(app.events.API_CALL,"createRoom",[W],function(Y){if(Y&&Y.result){W.id=V;if(i(W)){W[app.constants.ROOM_REFERER]=true}W[app.constants.ROOM_USAGE]=0;var Z=new app.rooms.RoomModel(W);if(Z.isValid()){app.rooms.RoomsCollection.add(W);app.rooms.RoomsCollection.makeLast(V);u();app.eventDispatcher.trigger(app.events.JOIN_ROOM,V,true)}}})}function J(U){if(d){app.rooms.RoomsCollection.makeLast(U)}else{H=U}}function e(){return Backbone.history.fragment===app.constants.NAVIGATION.CHAT_ROOMS}function D(){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"getMembership",[],function(U){P();L(U)})}function s(){var W={method:"getRoomsInfo",args:[app.globals.allContents()]};var U={method:"getMembership",args:[]};var V={method:"getFavoriteRooms",args:[]};app.eventDispatcher.trigger(app.events.API_CALL,[W,U,V],null,q)}function L(U){if(U&&!U.fault){h(U.result)}}function q(U){C();if(U[0]){v(U[0].result)}if(U[1]){h(U[1].result)}if(U[2]){n(U[2].result)}d=true;if(S){Q();S=false}if(H){J(H);H=undefined}if(e()){c.render()}}function i(U){var V=false;$.each(app.constants.CONTENT_IDS,function(W,X){if(U.contentID===X.ID&&X.REFERER===app.globals.referer){V=true;return false}});return V}function v(U){var W=app.rooms.RoomsCollection.getLastRoom(true);var V=app.rooms.RoomsCollection.getProtectedRooms(true);var X=app.rooms.RoomsCollection.getActiveRooms(true);app.rooms.RoomsCollection.reset();$.each(U.reverse(),function(Z,ab){var aa=app.constants.ROOMS_COUNT.CHAT;if(ab.type===app.constants.ROOM_RECOMMENDED_TYPE){aa=app.constants.ROOMS_COUNT.RECOMMENDED;if(i(ab)){ab[app.constants.ROOM_REFERER]=true}}ab.id=ab.roomID;ab[app.constants.ROOM_USAGE]=a(ab.count,aa);if(ab.ownerID===A.userID){ab[app.constants.ROOM_OWNER]=true}var Y=new app.rooms.RoomModel(ab);if(Y.isValid()&&!F.get(ab.id)){app.rooms.RoomsCollection.add(Y,{silent:true})}});if(W){J(W.id)}if(V.length){k(V)}if(X.length){G(X)}u()}function u(){var V=app.rooms.RoomsCollection.getGroupedRecommendedRoomIDs();var U;_.each(V,function(X,Y){if(U=z(Y)){if(X.length<=1){return false}var W=1;_.each(X,function(aa){var Z=app.rooms.RoomsCollection.get(aa);Z.set("name",U+" "+W++)})}})}function z(V){var U=false;$.each(app.constants.CONTENT_IDS,function(W,X){if(X.ID===V){U=X.ROOM_TITLE;return false}});return U}function k(U){_.each(U,function(X){var V=app.rooms.RoomsCollection.get(X);if(V){var W=V.get("count");V.set(X);if(W){V.set("count",W)}}else{app.rooms.RoomsCollection.add(X)}})}function G(U){_.each(U,function(V){if(!app.rooms.RoomsCollection.get(V)){app.rooms.RoomsCollection.add(V)}})}function h(U){var V=new Backbone.Collection();var W=g.toJSON();_.each(U,function(X){if(!g.get(X)){app.eventDispatcher.trigger(app.events.ROOM_MEMBER_IS.NEW,X)}T(X,true);V.add({id:X})});_.each(W,function(X){if(!V.get(X.id)){app.eventDispatcher.trigger(app.events.ROOM_MEMBER_IS.DELETED,X.id)}})}function n(U){_.each(U,function(W){var V=app.rooms.RoomsCollection.get(W);if(V){V.set(app.constants.ROOM_FAVORITE,true,{silent:true})}})}function a(V,U){if((V||(V=0))>U){V=U}return Math.ceil((V/U)*4)}function b(U,V){if(!A){A=U;if(e()){s()}}}function M(U,W){var V=app.rooms.RoomsCollection.get(U);if(V&&V.get("type")===app.constants.ROOM_USER_TO_USER){l(U)}else{I(U,W)}}function E(U){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"joinRoom",U);app._router.navigate(app.constants.NAVIGATION.CHAT_MESSAGING+"/"+U,{trigger:true});var V={type:app.constants.SOCIAL_ACTIVITIES.JOINED_CHAT_ROOM,args:[{name:app.rooms.RoomsCollection.get(U).get("name"),id:U}]};app.eventDispatcher.trigger(app.events.CREATE_NOTIFICATION,V,0)}function j(U){app.eventDispatcher.trigger(app.events.API_CALL,"getRoomsByIDs",[U],m)}function p(V){var W=V.type===app.constants.ROOM_RECOMMENDED_TYPE;var U=W?app.constants.ROOMS_COUNT.RECOMMENDED:app.constants.ROOMS_COUNT.CHAT;if((V.count||0)<U||V.ownerID===A.userID){return true}else{if(W){return app.constants.ROOM_RECOMMENDED_IF_FULL}}return false}function m(W){if(!W||!W.result||!_.isArray(W.result)){return false}var X=W.result.length>0?W.result[0]:null,V=p(X),U=!!app.rooms.RoomsCollection.get(X.roomID);if(!U){X.id=X.roomID;app.rooms.RoomsCollection.add(new app.rooms.RoomModel(X),{silent:true})}if(X&&V){if(V===app.constants.ROOM_RECOMMENDED_IF_FULL){Q(X.contentID)}else{E(X.roomID)}}else{if(X&&X.name){alert(app.constants.ROOM_IS_FULL_ERROR.replace("{{room}}",X.name))}}}};app.chat||(app.chat={});app.chat.ChatCollection=Backbone.Collection.extend({_messageIDsMap:{},add:function(c,a){Backbone.Collection.prototype.add.apply(this,[c,a]);var b=this;c=_.isArray(c)?c:[c];_.each(c,function(d){if(d&&d.messageID&&!(d.messageID in b._messageIDsMap)){b._messageIDsMap[d.messageID]=d}});this.calculateMessages()},remove:function(c,a){Backbone.Collection.prototype.remove.apply(this,[c,a]);var b=this;c=_.isArray(c)?c:[c];_.each(c,function(d){if(d&&d.messageID&&d.messageID in b._messageIDsMap){delete b._messageIDsMap[d.messageID]}});this.calculateMessages()},calculateMessages:function(){if(this.length>app.constants.MESSAGES_IN_CHAT){this.shift()}},getByMessageID:function(a){return a in this._messageIDsMap?this._messageIDsMap[a]:null}});app.chat||(app.chat={});app.chat.SmilesCollection=new (Backbone.Collection.extend({smileCodes:[],_byCode:{},add:function(e,b){Backbone.Collection.prototype.add.apply(this,[e,b]);e=_.isArray(e)?e:[e];var d=e?e.length:0,a;for(var c=0;c<d;c++){a=e[c].toJSON();if(a&&this.smileCodes.indexOf(a.code)<0){this.smileCodes.push(a.code)}if(a&&!(a.code in this._byCode)){this._byCode[a.code]=a}}},remove:function(f,c){Backbone.Collection.prototype.remove.apply(this,[f,c]);f=_.isArray(f)?f:[f];var e=f?f.length:0,b=-1,a;for(var d=0;d<e;d++){a=f[d].toJSON();if(a&&(b=this.smileCodes.indexOf(a.code))>=0){this.smileCodes.splice(b,1)}if(a&&a.code in this._byCode){delete this._byCode[a.code]}}},getByCode:function(a){return a in this._byCode?this._byCode[a]:null}}));app.chat||(app.chat={});app.chat.MessageModel=Backbone.Model.extend({validate:function(a){if(a.deleted){return"message is deleted"}if(!a.username){return"username is empty"}if(!a.userID){return"userID is empty"}if(!a.messageID){return"messageID is empty"}if(!a.text){return"text is empty"}},initialize:function(){_.bindAll(this)}});app.chat||(app.chat={});app.chat.SettingsModel=Backbone.Model.extend({defaults:{fontSize:[11,12,13,14,15,16],fontFamily:["Arial","Play","Cuprum","Andika","PT Sans","Anonymous Pro"],color:["#000","#323499","#ff3334","#660032","#993400","#006634","#663398","#666","#ff009a"]},initialize:function(){_.bindAll(this);this.setDefaults()},setDefaults:function(){var b=this.toJSON();var a={};_.each(b,function(d,c){a[c]=0});this.set("my",a)},getMySettings:function(){return this.get("my")},getFormattedSettings:function(){var a=this.toJSON();var b={};_.each(a.my,function(d,c){b[c]=a[c][d]||a[c][0]});return b}});app.chat||(app.chat={});app.chat.SmileModel=Backbone.Model.extend({validate:function(a){if(!a.id){return"id is missing"}if(!a.name){return"name is missing"}if(!a.code){return"code is missing"}if(!a.image){return"content is missing"}}});app.chat||(app.chat={});app.chat.ChatItemView=Backbone.View.extend({el:"#messagesBox",container:null,template:app.templates.chatItemTemplate,smileTemplates:app.templates.smileItemTemplate,smilesCollection:app.chat.SmilesCollection,initialize:function(){_.bindAll(this)},render:function(){var m=this.model.toJSON(),j=[],a=this.smilesCollection.smileCodes,k=new RegExp("("+a.join("|").replace(/([\(\)\[\]\{\}\.\\\/])/g,"\\$1")+")","g"),l=new RegExp("({\\S+?}"+app.constants.STYLE_SEPARATOR+")","g"),b=m.text.match(l),h=app.utils.isIE(8)?this.splitString(m.text,k):m.text.split(k),f=h?h.length:0;if(b){try{var c=JSON.parse(b[0].split(app.constants.STYLE_SEPARATOR).join(""));m.style="color:"+c.color+";font-family:'"+c.fontFamily.split("_").join(" ")+"'"}catch(g){m.style=""}m.text=m.text.split(b[0]).join("")}else{m.style=""}h=m.text.split(k);f=h?h.length:0;for(var d=0;d<f;d++){j.push(a.indexOf(h[d])>=0?this.smileTemplates(this.smilesCollection.getByCode(h[d])):app.utils.parseLinks(h[d]))}m.text=j.join("");this.container=$(this.template(m)).appendTo(this.$el);$(".messageUsername",this.container).mouseup(this.usernameMouseupHandler).on("contextmenu",this.usernameContextmenuHandler);return this},splitString:function(e,c){var b=[],f=0,a=e;e.replace(c,function(k,i,j,h){var g=a.substr(f,j);if(g){b.push(g)}b.push(k);f=k.length+j;return k});var d=a.substr(f,a.length);if(d){b.push(d)}return b},remove:function(){Backbone.View.prototype.remove.apply(this);$(".messageUsername",this.container).unbind("mouseup",this.usernameMouseupHandler).unbind("contextmenu",this.usernameContextmenuHandler)},usernameMouseupHandler:function(b){if(b.button===2){var a={x:b.pageX,y:b.pageY};app.eventDispatcher.trigger(app.events.SHOW_USER_DETAILS,this.model.toJSON(),a)}},usernameContextmenuHandler:function(a){return false}});app.chat||(app.chat={});app.chat.ChatView=app._super.ScrollerView.extend({controller:app.chat.ChatController,el:".contentBox.chatBox",$input:"#inputMessage",$message:".message",$username:".username",$deleteMessage:".deleteMessage",$blockUser:".blockUser",$messagesBox:"#messagesBox",$favorite:"#favoriteRoomButton",$_viewport:"#chatMessagesContainer",smileTemplate:app.templates.smileItemTemplate,range:null,isScrollDragged:false,$container:null,template:app.templates.chatTemplate,initialize:function(){_.bindAll(this)},events:{"click #addMessage":"addMessage","click .deleteMessage":"checkDeleteMessage","click .blockUser":"blockUser","keydown #inputMessage":"inputKeyDownHandler","keypress #inputMessage":"enterMessage","keyup #inputMessage":"saveRange","mouseup #inputMessage":"saveRange","click #smilesButton":"showSmilies","click #userListButton":"userListClickHandler","click #favoriteRoomButton":"favoriteRoomClickHandler","mousedown .dragger":"draggerMousedownHandler","mouseup .dragger":"draggerMouseupHandler"},toggle:function(){app._super.ToggleView.prototype.toggle.apply(this);this.initCustomScroll(false,true)},checkDeleteMessage:function(d){var b=$(d.currentTarget).parents(".message"),a=b.attr("data-mid"),c=b.attr("data-uid");app.eventDispatcher.trigger(app.events.DELETE_MESSAGE,a,c)},blockUser:function(b){var a=$(b.currentTarget).parents(".message").attr("data-uid");app.eventDispatcher.trigger(app.events.BLOCK_USER,a)},inputKeyDownHandler:function(b){var a=b.keyCode||b.which;if(a===13){b.preventDefault();this.addMessage()}},enterMessage:function(a){if(this.lengthExceeded()){return false}},lengthExceeded:function(){var a=$(this.$input).get(0);return(a.textContent?a.textContent.length:0)+$("img",a).length>=app.constants.MESSAGE_MAX_LENGTH},showSmilies:function(){app.eventDispatcher.trigger(app.events.SHOW_SMILES)},favoriteRoomClickHandler:function(a){if(this.model.get(app.constants.ROOM_FAVORITE)){app.eventDispatcher.trigger(app.events.REMOVE_FAVORITE_ROOM,this.model)}else{app.eventDispatcher.trigger(app.events.ADD_FAVORITE_ROOM,this.model)}},draggerMousedownHandler:function(a){this.isScrollDragged=true},draggerMouseupHandler:function(a){this.isScrollDragged=false},userListClickHandler:function(a){var b="/"+this.model.get("roomID")+"/"+this.model.get("name");app._router.navigate(app.constants.NAVIGATION.CHAT_USER_LIST+b,{trigger:true})},updateUser:function(b,a){$(this.$username).text(b.username).attr("data-uid",b.userID).attr("data-social",a)},addMessage:function(){var f=$(this.$input),a=f.get(0),d="",c=a&&a.childNodes?a.childNodes.length:0;for(var b=0;b<c;b++){var e=a.childNodes[b];d+=$(e).attr("data-code")||$(e).text()}if(d.length!==0){app.eventDispatcher.trigger(app.events.CREATE_NEW_MESSAGE,d)}this.clearInput()},clearInput:function(){var b=$(this.$input),a=rangy.createRange();b.empty();a.setStart(b.get(0),0);a.collapse(true);rangy.getSelection().setSingleRange(a)},modelChangeHandler:function(a){this.checkFavoriteRoom()},removeMessage:function(a){var b=this.getCurrentOffset(true);$(this.$message+"[data-mid="+a.get("messageID")+"]",this.$el).remove();this.initCustomScroll(b)},appendMessage:function(a){var b=this.getCurrentOffset(true);new app.chat.ChatItemView({model:a}).render();this.initCustomScroll(b)},updateChatStyle:function(){if(this.options.style){$(this.$messagesBox).css(this.options.style)}},setCollection:function(a){if(this.collection){this.collection.off("add",this.appendMessage);this.collection.off("remove",this.removeMessage)}this.collection=a;if(a){this.collection.on("add",this.appendMessage);this.collection.on("remove",this.removeMessage)}},render:function(c){this.model=c;this.$el.html(this.template(c.toJSON()));app.utils.enablePlaceholder();this.model.on("change:"+app.constants.ROOM_FAVORITE,this.modelChangeHandler);this.checkFavoriteRoom();var b=this.collection?this.collection.length:0;for(var a=0;a<b;a++){this.appendMessage(this.collection.at(a))}this.updateChatStyle();_.delay(function(){app.eventDispatcher.trigger(app.events.TOGGLE_PRELOADER,false)},500);return this},checkFavoriteRoom:function(){$(this.$favorite).toggleClass("selected",!!this.model.get(app.constants.ROOM_FAVORITE))},insertSmile:function(d){if(this.lengthExceeded()){return false}var f=$(this.$input).get(0),h=this.smileTemplate(d.toJSON()),i=f.textContent||f.outerText,a,c,b;f.focus();var g=this.range||rangy.getSelection();if(!g.isCollapsed){g.deleteFromDocument()}if(g.anchorOffset>0&&g.anchorOffset===g.focusOffset&&g.focusOffset===i.length){a=f.childNodes.length>0?f.childNodes[f.childNodes.length-1]:null}else{if(g.anchorNode&&g.anchorNode===g.focusNode){a=g.anchorNode.splitText!==undefined?g.anchorNode.splitText(g.anchorOffset).previousSibling:g.anchorNode}}c=a?$(h).insertAfter(a):$(h).prependTo(f);var e=g.getRangeAt(0);e.collapseAfter(c.get(0));g.setSingleRange(e)},saveRange:function(a){this.range=rangy.getSelection()}});app.chat||(app.chat={});app.chat.PrivateChatInvitationView=Backbone.View.extend({container:"body",template:app.templates.privateChatInvitationTemplate,events:{"click .acceptButton":"acceptButtonClickHandler","click .cancelButton":"cancelButtonClickHandler","click .blockButton":"blockButtonClickHandler"},render:function(){var a=$(this.template(this.model.toJSON())).appendTo($(this.container)).get(0);this.setElement(a);return this},remove:function(){this.$el.remove();this.trigger("close",this.model.get("userID"))},acceptButtonClickHandler:function(a){this.remove();app.eventDispatcher.trigger(app.events.CREATE_PRIVATE_CHAT,encodeURIComponent(this.model.get("userID")),encodeURIComponent(this.model.get("username")))},cancelButtonClickHandler:function(a){this.remove();app.eventDispatcher.trigger(app.events.CANCEL_PRIVATE_CHAT,this.model.get("userID"))},blockButtonClickHandler:function(a){this.remove();app.eventDispatcher.trigger(app.events.USER.BLOCK,this.model.get("userID"))}});app.chat||(app.chat={});app.chat.PrivateChatsListView=Backbone.View.extend({el:".private-chats-list",$close:".close-button",$username:".username-label",$singlePrivateChat:".private-chats-list-item",template:app.templates.privateChatsListTemplate,initialize:function(){_.bindAll(this)},render:function(){var a=$(this.template({models:this.collection.toJSON()})).appendTo("body");this.setElement(a);this.setEvents(true)},setEvents:function(a){var b=a?"on":"off";$(this.$close)[b]("click",this.closeButtonClickHandler);$(this.$username)[b]("click",this.usernameLabelClickHandler);$(document)[b]("click",this.checkTarget)},checkTarget:function(b){var a="."+b.target.className;var c=(a!==this.$close)||(a!==this.$username);if(c){this.removeView()}},removeView:function(){this.setEvents(false);this.remove()},closeButtonClickHandler:function(b){var a=this.getChatByElement(b.currentTarget);if(a){app.eventDispatcher.trigger(app.events.REMOVE_PRIVATE_CHAT,a);this.removeView()}},usernameLabelClickHandler:function(c){var b=this.getChatByElement(c.currentTarget);if(b){var a="/"+b.get("roomID")+"/"+b.get("name");app._router.navigate(app.constants.NAVIGATION.PRIVATE_CHAT+a,{trigger:true})}this.removeView()},getChatByElement:function(b){var c=$(b).parents(this.$singlePrivateChat).attr("data-id");var a=this.collection.where({roomID:c});return a.length?a[0]:null}});app.chat||(app.chat={});app.chat.SettingsView=app._super.ToggleView.extend({el:".contentBox.overlayBox",$settings:".chat-settings",$colorItem:".chat-settings-color-item",$fontFamilySelect:".chat-settings-font-family-select",$fontSizeSelect:".chat-settings-font-size-select",$option:".select-option-item",$save:".chat-settings-save",$cancel:".chat-settings-cancel",template:app.templates.settingsTemplate,currentViewDataID:"settings",initialize:function(){_.bindAll(this);this.$el.on("click",this.$colorItem,this.selectColor);this.$el.on("click",this.$save,this.save);this.$el.on("click",this.$cancel,this.closeSettings)},save:function(){var c=$(this.$colorItem+".active").attr("data-id");var d=$(this.$fontSizeSelect+" "+this.$option+".selected").attr("data-id");var b=$(this.$fontFamilySelect+" "+this.$option+".selected").attr("data-id");var a={color:c,fontFamily:b,fontSize:d};app.eventDispatcher.trigger(app.events.CHANGE_SETTINGS,a);this.closeSettings()},selectColor:function(a){$(this.$colorItem).removeClass("active");$(a.currentTarget).addClass("active")},closeSettings:function(){app._router.goSilentlyBack()},render:function(){this.$el.html(this.template(this.model.toJSON()));$(this.$fontFamilySelect).selectBox();$(this.$fontSizeSelect).selectBox({title:"Size: "})}});app.chat||(app.chat={});app.chat.SmilesPickerView=Backbone.View.extend({el:".contentBox.chatBox",template:app.templates.smilePickerTemplate,smileTemplate:app.templates.smileItemTemplate,picker:null,initialize:function(){_.bindAll(this)},render:function(){this.picker=$(this.template()).appendTo(this.el);var c=this.collection?this.collection.length:0;var a="";for(var b=0;b<c;b++){a+=this.smileTemplate(this.collection.at(b).toJSON())}$(this.picker).append(a);$(".smile",this.picker).one("click",this.smileClickHandler);$(document).click(this.bodyClickHandler);return this},smileClickHandler:function(a){app.eventDispatcher.trigger(app.events.SMILE_SELECTED,$(a.currentTarget).attr("data-id"));this.hidePicker()},bodyClickHandler:function(){this.hidePicker()},hidePicker:function(){$(this.picker).remove();app.eventDispatcher.trigger(app.events.HIDE_SMILES)}});app.chat||(app.chat={});app.chat.UserDetailsView=Backbone.View.extend({template:app.templates.userDetailsTemplate,details:null,events:{"click .followButton":"followClickHandler","click .privateChatButton":"privateChatClickHandler","click .blockButton":"blockClickHandler",click:"clickHandler"},initialize:function(){_.bindAll(this)},render:function(d){var a=$(this.template(this.model.toJSON())).appendTo("body"),c=a.width(),b=$(document).width(),g=35,f=d.y-a.height()/2,e=d.x+g;if(e+c>b-g){e=b-c-g}a.css({left:e,top:f});$(document).on("click",this.documentMousedownHandler);this.setElement(a);return this},remove:function(){Backbone.View.prototype.remove.apply(this);$(document).off("click",this.documentMousedownHandler);this.$el.remove()},documentMousedownHandler:function(a){this.remove();app.eventDispatcher.trigger(app.events.HIDE_USER_DETAILS)},followClickHandler:function(c){c.stopImmediatePropagation();var b=this.model.toJSON().isFollowing;var a=$(c.currentTarget);app.eventDispatcher.trigger(app.events.USER[b?"UNFOLLOW":"FOLLOW"],this.model.get("userID"),this.model.get("username"));a.text(b?"Follow":"Unfollow");this.model.set({isFollowing:!b})},privateChatClickHandler:function(b){var a=this.model.get("userID"),c=this.model.get("username");b.stopImmediatePropagation();app.eventDispatcher.trigger(app.events.USER.INVITE_TO_PRIVATE_CHAT,a,c);app.eventDispatcher.trigger(app.events.CREATE_PRIVATE_CHAT,a,c);this.remove()},blockClickHandler:function(c){c.stopImmediatePropagation();var b=this.model.toJSON().isBlocked;var a=$(c.currentTarget);app.eventDispatcher.trigger(app.events.USER[b?"UNBLOCK":"BLOCK"],this.model.toJSON().userID);a.text(b?"Block":"Unblock");this.model.set({isBlocked:!b})},clickHandler:function(a){a.stopImmediatePropagation()}});app.chat||(app.chat={});app.chat.ChatController=function(b){var P={},E={},C=0,r=[],n,G,c,e,m,q,l,t,X=new app.utils.timeout(),x=app.rooms.RoomsCollection,h=[];(function W(ae){_.extend(P,ae||{});q=new app.chat.ChatView();m=app.chat.SmilesCollection;t=new app.chat.SmilesPickerView({collection:m});c=new app.chat.SettingsController();app.eventDispatcher.on(app.events.USER_CHANGED,O);app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,Z);app.eventDispatcher.on(app.events.CREATE_NEW_MESSAGE,B);app.eventDispatcher.on(app.events.DELETE_MESSAGE,j);app.eventDispatcher.on(app.events.BLOCK_USER,Q);app.eventDispatcher.on(app.events.GET_USER_IP,N);app.eventDispatcher.on(app.events.SHOW_SMILES,I);app.eventDispatcher.on(app.events.SMILE_SELECTED,D);app.eventDispatcher.on(app.events.SHOW_USER_DETAILS,s);app.eventDispatcher.on(app.events.USER.INVITE_TO_PRIVATE_CHAT,k);app.eventDispatcher.on(app.events.ADD_FAVORITE_ROOM,a);app.eventDispatcher.on(app.events.REMOVE_FAVORITE_ROOM,d);app.eventDispatcher.on(app.events.SETTINGS_CHANGED,L);app.eventDispatcher.on(app.events.REMOVE_PRIVATE_CHAT,T);app.eventDispatcher.on(app.events.ROOM_MEMBER_IS.DELETED,U);app.eventDispatcher.on(app.events.CANCEL_PRIVATE_CHAT,v);app.eventDispatcher.trigger(app.events.GET_USER_INFO)}(b));function Z(af,aj){var ae=af===app.constants.NAVIGATION.CHAT_MESSAGING,ai=ae?x.get(aj.roomID):null,ag=aj&&aj.silent,ah=aj&&aj.overlay;if(ae&&ag){q.toggle(true);K()}else{if(ai){H(ai);n=true;K()}else{if(n&&(!ag&&!ah)){u()}}}if(ai&&ai.type!==app.constants.ROOM_USER_TO_USER){ac()}}function H(af){if(!af){return false}var ag=af.clone();var ae=ag.get("type")===app.constants.ROOM_USER_TO_USER;P.roomID=ae?null:ag.get("roomID");P.userID=ae?ag.get("roomID"):"";ag.set("name",encodeURIComponent(ag.get("name")));app.eventDispatcher.trigger(app.events.ABORT_API_CONNECTION,"getMessages");if(ae){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"leaveRooms")}e=ag.get("messages")||new app.chat.ChatCollection();if(!af.get("messages")){af.set("messages",e,{silent:true})}q.setCollection(e);q.toggle(true);q.render(ag);y();J();if(!ae){app.eventDispatcher.trigger(app.events.JOINED_TO_ROOM,ag.get("roomID"))}}function K(){if(!P.roomID){X.clear();return false}var ag=x.get(P.roomID);if(!ag||(ag.get("type")===app.constants.ROOM_USER_TO_USER)||(ag.get(app.constants.ROOM_OWNER)===true)){X.clear();return false}var af={method:"getMembership",args:[]};var ae={method:"getRoomsByIDs",args:[P.roomID]};app.eventDispatcher.trigger(app.events.API_CALL,[af,ae],null,function(ah){var aj=ah[0]?ah[0].result:null;var ai=ah[1]?ah[1].result:null;if(!aj||!ai||!ai[0]){return false}if(ai[0].type===app.constants.ROOM_PRIVATE_TYPE&&(aj.indexOf(ai[0].roomID)===-1)){app._router.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true})}X.set(K,app.constants.UPDATE.ROOM_INFO*1000)})}function u(){app.eventDispatcher.trigger(app.events.ABORT_API_CONNECTION,"getMessages");app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"leaveRooms");X.clear();P.userID="";P.roomID="";n=false;p()}function ab(){return n||(app.constants.NAVIGATION.CHAT_MESSAGING===Backbone.history.fragment.split("/")[0])}function aa(){return n||(app.constants.NAVIGATION.PRIVATE_CHAT===Backbone.history.fragment.split("/")[0])}function i(){return ab()||aa()}function J(){var af=app.smiles.length;for(var ae=0;ae<af;ae++){m.add(new app.chat.SmileModel(app.smiles[ae]))}}function N(ae){if(!ae){return false}var af=e.get(ae);if(af){app.eventDispatcher.trigger(app.events.USER_IP_CAME,ae,af.get("ip"))}}function Q(ae){if(ae&&r.indexOf(ae)===-1){r.push(ae);A(ae)}}function I(){_.defer(t.render)}function D(af){var ae=m.get(af);q.insertSmile(ae)}function s(ae,af){if(l){l.remove()}z(ae,function(ag){l=new app.chat.UserDetailsView({model:ag});_.defer(l.render,af)})}function z(af,ag){var ae;if(af instanceof app.user.UserModel){ae=af}if(!ae){ae={};ae.userID=af.userID;ae.username=af.username;ae.isMe=af.ownMessage||af.userID===E.userID;ae.isBlocked=app.globals.blockedIDs.indexOf(af.userID)>=0;ae.isPrivateChatter=af.type===app.constants.MESSAGE_TYPES.PRIVATE;ae.isFollowing=app.globals.followingIDs.getStatus(af.userID);ae=new app.user.UserModel(ae)}if(ae.isMe||!_.isUndefined(ae.isFollowing)){ag(new app.user.UserModel(ae));return false}app.eventDispatcher.trigger(app.events.API_CALL,"isFollowing",[af.userID],function(ah){ae.set("isFollowing",ah.result);app.globals.followingIDs.push(af.userID,ae.isFollowing);if(ag){ag(ae)}})}function k(ae,ag){var af=[app.constants.MESSAGE_TYPES.SYSTEM,null,[ae],app.constants.SYSTEM_MESSAGES.PRIVATE_CHAT_INVITATION];app.eventDispatcher.trigger(app.events.API_CALL,"createMessage",af)}function a(ae){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"addFavoriteRoom",ae.get("roomID"),function(af){ae.set(app.constants.ROOM_FAVORITE,true)})}function d(ae){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"removeFavoriteRoom",ae.get("roomID"),function(af){ae.set(app.constants.ROOM_FAVORITE,false)})}function A(af){var ae=e.where({userID:af});$.each(ae,function(ah,ag){e.remove(ag)})}function O(ae,af){if(!G){y();G=true}q.updateUser(E=ae,app.localStore.get("lastSocialAuthorization"))}function ad(){var ae=[null,[app.constants.MESSAGE_TYPES.SYSTEM,app.constants.MESSAGE_TYPES.PRIVATE,app.constants.MESSAGE_TYPES.COMMENT],0,1];app.eventDispatcher.trigger(app.events.API_CALL,"getMessages",ae,Y)}function Y(ae){C=ae&&ae.result&&_.isArray(ae.result)&&ae.result.length?ae.result[0].messageID:1;y()}function y(){if(C===0){ad();return}if(!P.roomID){p();return}var ae=[P.roomID,[app.constants.MESSAGE_TYPES.COMMENT],0,app.constants.MESSAGES_HISTORY_COUNT];app.eventDispatcher.trigger(app.events.API_CALL,"getMessages",ae,V)}function p(){var ag=C===0?1:app.constants.MESSAGES_HISTORY_COUNT;var af=(!i()||C===0||!P.roomID)?null:[P.roomID];var ae=[app.constants.MESSAGE_TYPES.SYSTEM,app.constants.MESSAGE_TYPES.PRIVATE];(af&&ab())?ae.push(app.constants.MESSAGE_TYPES.COMMENT):false;var ah=[af,ae,C,ag];app.eventDispatcher.trigger(app.events.API_CALL,"getMessages",ah,V)}function V(ae){if(ae&&ae.result&&ae.result.length){w(ae.result)}p()}function w(ae){if(ae[0]&&ae[0].messageID&&ae[0].messageID>C){C=ae[0].messageID}$.each(ae.reverse(),function(af,ag){if(!ag||r.indexOf(ag.userID)!==-1){return}switch(ag.type){case app.constants.MESSAGE_TYPES.COMMENT:if(i()){R(ag)}break;case app.constants.MESSAGE_TYPES.PRIVATE:S(ag);break;case app.constants.MESSAGE_TYPES.SYSTEM:M(ag);break}})}function S(ag){if(ag.userID===P.userID){R(ag)}else{var ae=x.get(ag.userID);if(ae){var ah=o(ag);var af=ae.get("messages");if(ah.isValid()&&af&&!af.getByMessageID(ah.get("messageID"))){af.add(ag,{silent:true})}}}}function R(ae){var af=o(ae);if(af.isValid()){e.add(af)}if(ae.deleted&&ae.messageID){q.removeMessage({id:ae.messageID})}}function o(ae){ae.id=ae.messageID;ae.ownMessage=E.userID===ae.userID;return new app.chat.MessageModel(ae)}function v(ae){var af=[app.constants.MESSAGE_TYPES.SYSTEM,null,[ae],app.constants.SYSTEM_MESSAGES.CANCEL_PRIVATE_CHAT_INVITATION];app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"createMessage",af)}function M(ah){if(ah.text===app.constants.SYSTEM_MESSAGES.CANCEL_PRIVATE_CHAT_INVITATION){var aj=x.where({roomID:ah.userID});if(aj.length){var ah={username:"System ~ ",userID:ah.userID,messageID:ah.messageID,text:app.constants.CLOSE_CHAT_INFO};S(ah)}app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"deleteMessages",[[ah.messageID]])}if(ah.text&&ah.text.indexOf(app.constants.SYSTEM_MESSAGES.JOIN_ROOM_TEXT)===0){var ag=ah.text.slice(app.constants.SYSTEM_MESSAGES.JOIN_ROOM_TEXT.length);if(ag){app.eventDispatcher.trigger(app.events.JOIN_ROOM,ag)}app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"deleteMessages",[[ah.messageID]])}if(ah.text===app.constants.SYSTEM_MESSAGES.PRIVATE_CHAT_INVITATION){if(!!x.get(ah.userID)||h.indexOf(ah.userID)!==-1){return false}var af=new app.user.UserModel({userID:ah.userID,username:ah.username});var ai=new app.chat.PrivateChatInvitationView({model:af});ai.on("close",F);ai.render();h.push(ah.userID)}var ae=ah.text?ah.text.indexOf(app.constants.SYSTEM_MESSAGES.EXIT_OPEN_ROOMS):-1;if(P.roomID&&(ae===0)&&ah.text.slice(app.constants.SYSTEM_MESSAGES.EXIT_OPEN_ROOMS.length)!==P.roomID){_.delay(g)}}function g(){app._router.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true});app.eventDispatcher.trigger(app.events.SHOW_NOTIFICATION,"Attention",app.constants.NOTIFICATIONS.CHAT_ROOMS_LIMIT)}function F(af){var ae=h.indexOf(af);ae!==-1?(h.splice(ae,1)):false}function j(ae,af){var ag=e.get(ae);if(ag&&E.userID===af){e.remove(ag);app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"deleteMessages",[[ae]])}}function B(ah){var ae=P.roomID?app.constants.MESSAGE_TYPES.COMMENT:app.constants.MESSAGE_TYPES.PRIVATE;var ag=q.options.style;var ai=ag?JSON.stringify({color:ag.color,fontFamily:ag.fontFamily.split(" ").join("_")})+app.constants.STYLE_SEPARATOR:"";var af=[ae,P.roomID||null,P.userID||null,ai+ah];app.eventDispatcher.trigger(app.events.API_CALL,"createMessage",af,function(aj){f(aj,ah)});q.clearInput()}function f(ae,ag){var ah=ae.result[0];if(!ah){return false}var af=new app.chat.MessageModel({date:new Date,id:ah,messageID:ah,roomID:P.roomID,type:app.constants.MESSAGE_TYPES.COMMENT,userID:E.userID,username:E.username,thumbURL:E.thumbURL,text:ag,ownMessage:true});if(af.isValid()){e.add(af)}}function L(ae){q.options.style={color:ae.color,fontFamily:ae.fontFamily,fontSize:ae.fontSize};q.updateChatStyle()}function T(ae){x.remove(ae);if(ae.get("roomID")===P.userID){app._router.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true})}v(ae.get("roomID"))}function U(ae){if(!ae||!(P.roomID===ae)){return false}if(x.get(ae).get("type")===app.constants.ROOM_PRIVATE_TYPE){app._router.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true})}}function ac(){if(!P.roomID){return}var ae=[app.constants.MESSAGE_TYPES.SYSTEM,null,[E.userID],app.constants.SYSTEM_MESSAGES.EXIT_OPEN_ROOMS+P.roomID];app.eventDispatcher.trigger(app.events.API_CALL,"createMessage",ae)}};app.chat||(app.chat={});app.chat.SettingsController=function(){var g,i,c,k,e;(function o(){e=new app.chat.SettingsModel();k=new app.chat.SettingsView({model:e});app.eventDispatcher.on(app.events.USER_CHANGED,m);app.eventDispatcher.on(app.events.PROPERTIES_CAME,n);app.eventDispatcher.on(app.events.CHANGE_SETTINGS,j);app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,f);_.defer(h)}());function f(p,s){var r=app.constants.NAVIGATION.CHAT_SETTING===p;var q=s&&s.silent;if(r&&q){i?k.toggle(true):b()}else{if(!r&&i){i=false}}}function b(){if(!g){l(b)}k.toggle(true);k.render();i=true}function h(){WebFontConfig={google:{families:_.rest(e.get("fontFamily"),1)}};(function(){var p=document.createElement("script");p.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";p.type="text/javascript";p.async="true";var q=document.getElementsByTagName("script")[0];q.parentNode.insertBefore(p,q)})()}function l(p){app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"getPropertyValues",[app.constants.SETTINGS_PROPERTY_NAME],function(q){d(q,p)})}function j(q){var r={};var p={color:parseInt(q.color||0,10),fontFamily:parseInt(q.fontFamily||0,10),fontSize:parseInt(q.fontSize||0,10)};e.set("my",p);r[app.constants.SETTINGS_PROPERTY_NAME]=p;app.eventDispatcher.trigger(app.events.API_CALL_QUEUE,"setProperties",[r]);a()}function n(p){if(g||!p){return false}var q=p[app.constants.SETTINGS_PROPERTY_NAME];if(q){d(q)}}function d(p,t){g=true;var q={};try{var r=_.isString(p)?p:p.result[0];q.my=JSON.parse(r||":)")}catch(s){q.my=e.getMySettings()}e.set(q);a();if(t){t()}}function a(){app.eventDispatcher.trigger(app.events.SETTINGS_CHANGED,e.getFormattedSettings())}function m(p){c=p}};app.twitter||(app.twitter={});app.twitter.TwitterCollection=Backbone.Collection.extend({initialize:function(){this.on("add",this.calculateTweets);this.on("remove",this.calculateTweets)},calculateTweets:function(){if(this.length>app.constants.TWEETS_IN_CHAT){this.shift()}}});app.twitter||(app.twitter={});app.twitter.TwitterModel=Backbone.Model.extend({validate:function(a){if(!a.id){return"id is empty"}if(!a.text){return"text is empty"}if(!a.thumbURL){return"thumbURL is empty"}if(!a.user){return"user is empty"}if(!a.userID){return"userID is empty"}if(!a.username){return"username is empty"}},initialize:function(){_.bindAll(this)}});app.twitter||(app.twitter={});app.twitter.TwitterView=app._super.ScrollerView.extend({el:".contentBox.twitterBox",$_viewport:"#tweetsContainer",$tweetList:"#tweetList",$tweet:".tweet",template:app.templates.twitterTemplate,tweetTemplate:app.templates.tweetTemplate,initialize:function(){_.bindAll(this);var a=this.appendTweet();this.collection.on("add",a);this.collection.on("remove",this.removeTweet)},appendTweet:function(){var g=new app.utils.timeout(),b=this.getCurrentOffset(),h=this.tweetTemplate,f=this.initCustomScroll,e=this.$tweetList,d=[],c=[];function i(j){d.push(j);g.set(a)}function a(){_.each(d.reverse(),function(j){c.push(h(j.toJSON()))});$(e).prepend(c.join(""));f(b)}return i},removeTweet:function(a){var b=this.getCurrentOffset();$(this.$tweet+"[data-id="+a.id+"]").remove();this.initCustomScroll(b)},render:function(){this.$el.html(this.template())}});app.twitter||(app.twitter={});app.twitter.TwitterController=function(){var i=true,e,g,c;(function h(){c=new app.twitter.TwitterCollection();g=new app.twitter.TwitterView({collection:c});app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,d)}());function d(j){var k=app.constants.NAVIGATION.TWITTER===j;if(k){if(i){g.render();a();i=false}else{a()}g.toggle(true);g.initCustomScroll()}else{clearTimeout(e)}}function b(){clearTimeout(e);e=setTimeout(a,app.constants.UPDATE.TWEET_FEED*1000)}function a(){var j=i?"API_CALL":"API_CALL_QUEUE";var k=[app.constants.TWEET_FEED,app.globals.sinceID,app.constants.TWEET_FEED_COUNT];app.eventDispatcher.trigger(app.events[j],"getTweets",k,f)}function f(k){b();if(!k.result||!k.result.length){return false}var j=k.result[0].id;if(j){app.globals.sinceID=j}$.each(k.result.reverse(),function(m,n){var l=new app.twitter.TwitterModel(n);if(l.isValid()){c.add(l)}})}};app.navigation||(app.navigation={});app.navigation.NavigationView=Backbone.View.extend({el:"#navigationSection",$preloader:"#app-preloader",$location:".navigationLink",events:{"click #chatButton":"chatButtonClickHandler","click #twitterButton":"twitterButtonClickHandler","click #expandButton":"expandButtonClickHandler","click #closeButton":"closeButtonClickHandler"},template:app.templates.navigationTemplate,preloaderTemplate:app.templates.preloaderTemplate,initialize:function(){_.bindAll(this)},render:function(){this.$el.append(this.template)},chatButtonClickHandler:function(){if(!app.globals.minimized&&Backbone.history.fragment.split("-")[0]!==app.constants.NAVIGATION.CHAT){app._router.navigate(app.constants.NAVIGATION.CHAT,{trigger:true})}},twitterButtonClickHandler:function(){if(!app.globals.minimized){app._router.navigate(app.constants.NAVIGATION.TWITTER,{trigger:true})}},expandButtonClickHandler:function(){app._router.initApplication();this.toggleApplication()},closeButtonClickHandler:function(){app.postMessage.post(window._pmConstants.CLOSE_APPLICATION)},toggleApplication:function(b){var c=$("body");if(b){c.removeClass("minimized")}else{c.toggleClass("minimized")}var a=c.hasClass("minimized");app.globals.minimized=a;app.postMessage.post({type:window._pmConstants.TOGGLE_APPLICATION,data:{status:a}})},togglePreloader:function(a){if(a){$("body").append(this.preloaderTemplate())}else{var b=$(this.$preloader);if(!b.length){return false}b.fadeOut(500,function(){b.remove()})}},changeNavigation:function(b){var a=b.split("-")[0];$("[data-include-in]").hide();$("[data-include-in="+a+"]").show();$(this.$location).removeClass("active");$(this.$location+"[data-id="+a+"]").addClass("active")}});app.navigation||(app.navigation={});app.navigation.NavigationController=function(){var b;(function c(){b=new app.navigation.NavigationView();b.render();app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,b.changeNavigation);app.eventDispatcher.on(app.events.TOGGLE_APPLICATION,b.toggleApplication);app.eventDispatcher.on(app.events.TOGGLE_PRELOADER,b.togglePreloader);app.eventDispatcher.on(app.events.RECEIVE_POST_MESSAGE,a)}());function a(f){var d=f.data;if(app.utils.is(d)==="Object"){if(d.type===window._pmConstants.SAY_OPEN_ROOM){d=window._pmConstants.SAY_OPEN_ROOM}}switch(d){case window._pmConstants.SAY_OPEN_ROOM:console.log("TODO: open room with id ",f.data);break;default:break}}};app.tools||(app.tools={});app.tools.ToolsView=Backbone.View.extend({el:"#toolSection",$tools:".tools",$rooms:"#tools-chat-rooms",$privateChats:"#tools-private-chats",$createRoom:"#tools-chat-create-room",$settings:"#tools-chat-settings",$onlineList:"#tools-online-list",template:app.templates.toolsTemplate,initialize:function(){_.bindAll(this);this.$el.on("click",this.$rooms,this.navigateRooms);this.$el.on("click",this.$createRoom,this.createRoom);this.$el.on("click",this.$settings,this.showSettings);this.$el.on("click",this.$onlineList,this.showOnlineList);this.$el.on("click",this.$privateChats,this.showPrivateChats)},showOnlineList:function(){app._router.navigate(app.constants.NAVIGATION.CHAT_ONLINE,{trigger:true})},showSettings:function(){app._router.navigate(app.constants.NAVIGATION.CHAT_SETTING,{trigger:true})},createRoom:function(){app._router.navigate(app.constants.NAVIGATION.CHAT_EDIT_ROOM,{trigger:true})},navigateRooms:function(){app._router.navigate(app.constants.NAVIGATION.CHAT_ROOMS,{trigger:true})},showPrivateChats:function(){app.eventDispatcher.trigger(app.events.SHOW_PRIVATE_CHATS_LIST);this.toggleUnreadChat(false)},toggleUnreadChat:function(a){$(this.$privateChats).toggleClass("active",a)},toggle:function(a){$(this.$tools).children().toggle(a)},render:function(){this.$el.html(this.template())}});app.tools||(app.tools={});app.tools.ToolsController=function(){var a,d;(function c(){a=new app.tools.ToolsView();a.render();app.eventDispatcher.on(app.events.NAVIGATION_CHANGED,b);app.eventDispatcher.on(app.events.UNREAD_MESSAGE_RECEIVED,e)}());function b(f){var g=app.constants.NAVIGATION.TWITTER===f;if(g){a.toggle(false);d=true}else{if(d){a.toggle(true);d=false}}}function e(){a.toggleUnreadChat(true)}};app.signup||(app.signup={});app.signup.SignupView=Backbone.View.extend({el:"body",$box:"#signup",$input:".sign-up-input",$submit:".sign-up-ok",$cancel:".sign-up-cancel",$error:".error",$more:".signup-more-info",template:app.templates.signupTemplate,initialize:function(){_.bindAll(this);this.$el.on("click",this.$submit,this.signUp).on("click",this.$cancel,this.cancel).on("focus",this.$input,this.enableEnter).on("blur",this.$input,this.toggleEnter).on("click",this.$error,this.hideError).on("click",this.$more,this.learnMore)},hideError:function(){$(this.$error).remove()},toggleEnter:function(a){$(this.$input)[a?"on":"off"]("keyup",this.checkEnter)},enableEnter:function(){this.hideError();this.toggleEnter(true)},checkEnter:function(b){var a=b.keyCode||b.which;if(a===13){this.signUp()}},signUp:function(){app.eventDispatcher.trigger(app.events.CHECK_USERNAME,this.getUsername())},learnMore:function(){window.open(app.constants.FAQ_LINK)},getUsername:function(){return $.trim($(this.$input).val())},remove:function(){$(this.$box).remove()},cancel:function(){app.postMessage.post(window._pmConstants.CLOSE_APPLICATION)},render:function(a){a||(a={});a.error=a.error||null;a.value=a.value||null;a.maxlength=app.constants.USERNAME_MAXLENGTH;this.$el.find(this.$box).remove();this.$el.append(this.template(a))}});app.signup||(app.signup={});app.signup.SignupController=function(){var a;(function d(){a=new app.signup.SignupView();a.render();app.eventDispatcher.on(app.events.CHECK_USERNAME,e)}());function e(f){if(!f){return false}f=f.slice(0,app.constants.USERNAME_MAXLENGTH);app.eventDispatcher.trigger(app.events.API_CALL,"checkUsername",[f],function(g){if(g.result===false){c(f)}else{b(f)}})}function c(f){app.eventDispatcher.trigger(app.events.LETS_START,{username:f});a.remove()}function b(f){a.render({error:true,value:f})}};